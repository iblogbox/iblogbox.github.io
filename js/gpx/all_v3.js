/*
 Highcharts JS v2.1.3 (2011-02-07)

 (c) 2009-2010 Torstein H?nsi

 License: www.highcharts.com/license
*/
"undefined"==typeof window&&(window={});var Functional=window.Functional||{};Functional.install=function(b){var e=Functional,g=window,l;for(l in e)"install"==l||"_"==l.charAt(0)||b&&l in b||{}[l]||(g[l]=e[l])};Functional.compose=function(){var b=Functional.map(Function.toFunction,arguments),e=b.length;return function(){for(var g=e;0<=--g;)arguments=[b[g].apply(this,arguments)];return arguments[0]}};
Functional.sequence=function(){var b=Functional.map(Function.toFunction,arguments),e=b.length;return function(){for(var g=0;g<e;g++)arguments=[b[g].apply(this,arguments)];return arguments[0]}};Functional.map=function(b,e,g){b=Function.toFunction(b);for(var l=e.length,m=Array(l),u=0;u<l;u++)m[u]=b.apply(g,[e[u],u]);return m};Functional.reduce=function(b,e,g,l){b=Function.toFunction(b);for(var m=g.length,u=0;u<m;u++)e=b.apply(l,[e,g[u]]);return e};
Functional.select=function(b,e,g){b=Function.toFunction(b);for(var l=e.length,m=[],u=0;u<l;u++){var y=e[u];b.apply(g,[y,u])&&m.push(y)}return m};Functional.filter=Functional.select;Functional.foldl=Functional.reduce;Functional.foldr=function(b,e,g,l){b=Function.toFunction(b);for(var m=g.length;0<=--m;)e=b.apply(l,[g[m],e]);return e};Functional.and=function(){var b=Functional.map(Function.toFunction,arguments),e=b.length;return function(){for(var g=!0,l=0;l<e&&(g=b[l].apply(this,arguments));l++);return g}};
Functional.or=function(){var b=Functional.map(Function.toFunction,arguments),e=b.length;return function(){for(var g=!1,l=0;l<e&&!(g=b[l].apply(this,arguments));l++);return g}};Functional.some=function(b,e,g){b=Function.toFunction(b);for(var l=e.length,m=!1,u=0;u<l&&!(m=b.call(g,e[u]));u++);return m};Functional.every=function(b,e,g){b=Function.toFunction(b);for(var l=e.length,m=!0,u=0;u<l&&(m=b.call(g,e[u]));u++);return m};
Functional.not=function(b){b=Function.toFunction(b);return function(){return!b.apply(null,arguments)}};Functional.equal=function(){var b=arguments.length,e=Functional.map(Function.toFunction,arguments);return b?function(){for(var g=e[0].apply(this,arguments),l=1;l<b;l++)if(g!=e[l].apply(this,e))return!1;return!0}:Functional.K(!0)};Functional.lambda=function(b){return b.toFunction()};
Functional.invoke=function(b){var e=Array.slice(arguments,1);return function(g){return g[b].apply(g,Array.slice(arguments,1).concat(e))}};Functional.pluck=function(b){return function(e){return e[b]}};Functional.until=function(b,e){e=Function.toFunction(e);b=Function.toFunction(b);return function(g){for(;!b.call(null,g);)g=e.call(null,g);return g}};
Functional.zip=function(){for(var b=Math.min.apply(null,Functional.map(".length",arguments)),e=Array(b),g=0;g<b;g++){var l=String(g);e[l]=Functional.map(pluck(l),arguments)}return e};Functional._startRecordingMethodChanges=function(b){var e={},g;for(g in b)e[g]=b[g];return{getChangedMethods:function(){var g={},m;for(m in b)b[m]!=e[m]&&(g[m]=b[m]);return g}}};
Functional._attachMethodDelegates=function(b){for(var e in b)Functional[e]=Functional[e]||function(e){var l=b[e];return function(b){return l.apply(Function.toFunction(b),Array.slice(arguments,1))}}(e)};Functional.__initalFunctionState=Functional._startRecordingMethodChanges(Function.prototype);Function.prototype.bind=function(b){var e=this,g=Array.slice(arguments,1);return function(){return e.apply(b,g.concat(Array.slice(arguments,0)))}};
Function.prototype.saturate=function(){var b=this,e=Array.slice(arguments,0);return function(){return b.apply(this,e)}};Function.prototype.aritize=function(b){var e=this;return function(){return e.apply(this,Array.slice(arguments,0,b))}};Function.prototype.curry=function(){var b=this,e=Array.slice(arguments,0);return function(){return b.apply(this,e.concat(Array.slice(arguments,0)))}};
Function.prototype.rcurry=function(){var b=this,e=Array.slice(arguments,0);return function(){return b.apply(this,Array.slice(arguments,0).concat(e))}};Function.prototype.ncurry=function(b){var e=this,g=Array.slice(arguments,1);return function(){var l=g.concat(Array.slice(arguments,0));return l.length<b?(l.unshift(b),e.ncurry.apply(e,l)):e.apply(this,l)}};
Function.prototype.rncurry=function(b){var e=this,g=Array.slice(arguments,1);return function(){var l=Array.slice(arguments,0).concat(g);return l.length<b?(l.unshift(b),e.rncurry.apply(e,l)):e.apply(this,l)}};_=Function._={};
Function.prototype.partial=function(){for(var b=this,e=Function._,g=Array.slice(arguments,0),l=[],m=0;m<arguments.length;m++)arguments[m]==e&&l.push(m);return function(){for(var m=g.concat(Array.slice(arguments,l.length)),y=0;y<Math.min(l.length,arguments.length);y++)m[l[y]]=arguments[y];for(y=0;y<m.length;y++)if(m[y]==e)return b.partial.apply(b,m);return b.apply(this,m)}};Functional.I=function(b){return b};Functional.K=function(b){return function(){return b}};Functional.id=Functional.I;
Functional.constfn=Functional.K;Function.S=function(b,e){b=Function.toFunction(b);e=Function.toFunction(e);return function(){return b.apply(this,[e.apply(this,arguments)].concat(Array.slice(arguments,0)))}};Function.prototype.flip=function(){var b=this;return function(){var e=Array.slice(arguments,0),e=e.slice(1,2).concat(e.slice(0,1)).concat(e.slice(2));return b.apply(this,e)}};
Function.prototype.uncurry=function(){var b=this;return function(){return b.apply(this,Array.slice(arguments,0,1)).apply(this,Array.slice(arguments,1))}};Function.prototype.prefilterObject=function(b){b=Function.toFunction(b);var e=this;return function(){return e.apply(b(this),arguments)}};Function.prototype.prefilterAt=function(b,e){e=Function.toFunction(e);var g=this;return function(){var l=Array.slice(arguments,0);l[b]=e.call(this,l[b]);return g.apply(this,l)}};
Function.prototype.prefilterSlice=function(b,e,g){b=Function.toFunction(b);e=e||0;var l=this;return function(){var m=Array.slice(arguments,0),u=0>g?m.length+g:g||m.length;m.splice.apply(m,[e,(u||m.length)-e].concat(b.apply(this,m.slice(e,u))));return l.apply(this,m)}};Function.prototype.compose=function(b){var e=this;b=Function.toFunction(b);return function(){return e.apply(this,[b.apply(this,arguments)])}};
Function.prototype.sequence=function(b){var e=this;b=Function.toFunction(b);return function(){return b.apply(this,[e.apply(this,arguments)])}};Function.prototype.guard=function(b,e){var g=this;b=Function.toFunction(b||Functional.I);e=Function.toFunction(e||Functional.I);return function(){return(b.apply(this,arguments)?g:e).apply(this,arguments)}};
Function.prototype.traced=function(b){var e=this;b=b||e;return function(){window.console&&console.info("[",b,"apply(",this!=window&&this,",",arguments,")");var g=e.apply(this,arguments);window.console&&console.info("]",b," -> ",g);return g}};Functional._attachMethodDelegates(Functional.__initalFunctionState.getChangedMethods());delete Functional.__initalFunctionState;Function.toFunction=Function.toFunction||Functional.K;
Array.slice||(Array.slice=function(b){return function(e){return b.apply(e,b.call(arguments,1))}}(Array.prototype.slice));
String.prototype.lambda=function(){var b=[],e=this,g=e.ECMAsplit(/\s*->\s*/m);if(1<g.length)for(;g.length;)e=g.pop(),b=g.pop().split(/\s*,\s*|\s+/m),g.length&&g.push("(function("+b+"){return ("+e+")})");else if(e.match(/\b_\b/))b="_";else{var g=e.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),l=e.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(g||l)g&&(b.push("$1"),e="$1"+e),l&&(b.push("$2"),e+="$2");else for(var g=this.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*\s*:|this|arguments|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[],l=0,m;m=g[l++];)0<=b.indexOf(m)||b.push(m)}return new Function(b,"return ("+e+")")};String.prototype.lambda.cache=function(){var b=String.prototype,e={},g=b.lambda,l=function(){var b="#"+this;return e[b]||(e[b]=g.call(this))};l.cached=function(){};l.uncache=function(){b.lambda=g};b.lambda=l};String.prototype.apply=function(b,e){return this.toFunction().apply(b,e)};
String.prototype.call=function(){return this.toFunction().apply(arguments[0],Array.prototype.slice.call(arguments,1))};String.prototype.toFunction=function(){return this.match(/\breturn\b/)?new Function(this):this.lambda()};Function.prototype.toFunction=function(){return this};Function.toFunction=function(b){return b.toFunction()};
String.prototype.ECMAsplit=1<"ab".split(/a*/).length?String.prototype.split:function(b,e){if("undefined"!=typeof e)throw"ECMAsplit: limit is unimplemented";var g=this.split.apply(this,arguments),l=RegExp(b),m=l.lastIndex,u=l.exec(this);u&&0==u.index&&g.unshift("");l.lastIndex=m;return g};
(function(){function b(a,h){a||(a={});for(var d in h)a[d]=h[d];return a}function e(a,h){return parseInt(a,h||10)}function g(a){return"string"==typeof a}function l(a){return"object"==typeof a}function m(a){return"number"==typeof a}function u(a,h){for(var d=a.length;d--;)if(a[d]==h){a.splice(d,1);break}}function y(a){return a!==Ga&&null!==a}function K(a,h,d){var b,t;if(g(h))y(d)?a.setAttribute(h,d):a&&a.getAttribute&&(t=a.getAttribute(h));else if(y(h)&&l(h))for(b in h)a.setAttribute(b,h[b]);return t}
function z(a){a&&a.constructor==Array||(a=[a]);return a}function s(){var a=arguments,h,d,b=a.length;for(h=0;h<b;h++)if(d=a[h],"undefined"!==typeof d&&null!==d)return d}function D(a){var h="",d;for(d in a)h+=cb(d)+":"+a[d]+";";return h}function Y(a,h){Lb&&h&&h.opacity!==Ga&&(h.filter="alpha(opacity="+100*h.opacity+")");b(a.style,h)}function la(a,h,d,q,t){a=ba.createElement(a);h&&b(a,h);t&&Y(a,{padding:0,border:"none",margin:0});d&&Y(a,d);q&&q.appendChild(a);return a}function db(a,h){Mb=s(a,h.animation)}
function Wa(){var a=Ja.global.useUTC;sb=a?Date.UTC:function(a,d,b,t,A,e){return(new Date(a,d,s(b,1),s(t,0),s(A,0),s(e,0))).getTime()};tb=a?"getUTCMinutes":"getMinutes";ub=a?"getUTCHours":"getHours";Nb=a?"getUTCDay":"getDay";Eb=a?"getUTCDate":"getDate";Ob=a?"getUTCMonth":"getMonth";jb=a?"getUTCFullYear":"getFullYear";Fb=a?"setUTCMinutes":"setMinutes";Pb=a?"setUTCHours":"setHours";kb=a?"setUTCDate":"setDate";Gb=a?"setUTCMonth":"setMonth";Ub=a?"setUTCFullYear":"setFullYear"}function fa(a){Xa||(Xa=la("div"));
a&&Xa.appendChild(a);Xa.innerHTML=""}function N(a,h){var d=function(){};d.prototype=new a;b(d.prototype,h);return d}function eb(a,h,d,b){var t=Ja.lang,A=isNaN(h=U(h))?2:h;h=void 0===d?t.decimalPoint:d;b=void 0===b?t.thousandsSep:b;t=0>a?"-":"";d=e(a=U(+a||0).toFixed(A))+"";var p=3<(p=d.length)?p%3:0;return t+(p?d.substr(0,p)+b:"")+d.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+b)+(A?h+U(a-d).toFixed(A).slice(2):"")}function M(){}function lb(a,h){function d(f,a){function v(f,a){this.pos=f;this.minor=a;
this.isNew=!0;a||this.addLabel()}function n(f){f&&(this.options=f,this.id=f.id);return this}function h(){var f=[],v=[],n;Oa=ka=null;aa=[];E(wa,function(h){n=!1;E(["xAxis","yAxis"],function(f){h.isCartesian&&("xAxis"==f&&P||"yAxis"==f&&!P)&&(h.options[f]==a.index||h.options[f]===Ga&&0===a.index)&&(h[f]=g,aa.push(h),n=!0)});!h.visible&&L.ignoreHiddenSeries&&(n=!1);if(n){var d,k,G,b,q;P||(d=h.options.stacking,V="percent"==d,d&&(b=h.type+s(h.options.stack,""),q="-"+b,h.stackKey=b,k=f[b]||[],f[b]=k,G=
v[q]||[],v[q]=G),V&&(Oa=0,ka=99));h.isCartesian&&(E(h.data,function(f,a){var v=f.x,n=f.y,h=0>n,J=h?G:k,h=h?q:b;null===Oa&&(Oa=ka=f[I]);P?v>ka?ka=v:v<Oa&&(Oa=v):y(n)&&(d&&(J[v]=y(J[v])?J[v]+n:n),n=J?J[v]:n,J=s(f.low,n),V||(n>ka?ka=n:J<Oa&&(Oa=J)),d&&(p[h]||(p[h]={}),p[h][v]={total:n,cum:n}))}),/(area|column|bar)/.test(h.type)&&!P&&(0<=Oa?(Oa=0,fb=!0):0>ka&&(ka=0,cc=!0)))}})}function d(f,v){var n;ba=v?1:qa.pow(10,ta(qa.log(f)/qa.LN10));n=f/ba;v||(v=[1,2,2.5,5,10],!1===a.allowDecimals&&(1==ba?v=[1,2,
5,10]:.1>=ba&&(v=[1/ba])));for(var h=0;h<v.length&&!(f=v[h],n<=(v[h]+(v[h+1]||v[h]))/2);h++);return f*=ba}function k(f){var a;a=f;y(ba)&&(a=10*(1>ba?F(1/ba):1),a=F(f*a)/a);return a}function G(v){var n,h,b,q;v=a.tickInterval;var J=a.tickPixelInterval;n=a.maxZoom||(P?Z(5*f.smallestInterval,ka-Oa):null);za=C?ua:ra;N?(b=f[P?"xAxis":"yAxis"][a.linkedTo],q=b.getExtremes(),z=s(q.min,q.dataMin),ga=s(q.max,q.dataMax)):(z=s(wb,a.min,Oa),ga=s(D,a.max,ka));ga-z<n&&(q=(n-ga+z)/2,z=W(z-q,s(a.min,z-q),Oa),ga=Z(z+
n,s(a.max,z+n),ka));ca||V||N||!y(z)||!y(ga)||(n=ga-z||1,y(a.min)||y(wb)||!$b||!(0>Oa)&&fb||(z-=n*$b),y(a.max)||y(D)||!R||!(0<ka)&&cc||(ga+=n*R));Fa=z==ga?1:N&&!v&&J==b.options.tickPixelInterval?b.tickInterval:s(v,ca?1:(ga-z)*J/za);l||y(a.tickInterval)||(Fa=d(Fa));g.tickInterval=Fa;fa="auto"===a.minorTickInterval&&Fa?Fa/5:a.minorTickInterval;if(l){ma=[];v=Ja.global.useUTC;q=[["second",1E3,[1,2,5,10,15,30]],["minute",6E4,[1,2,5,10,15,30]],["hour",36E5,[1,2,3,4,6,8,12]],["day",864E5,[1,2]],["week",6048E5,
[1,2]],["month",2592E6,[1,2,3,4,6]],["year",31556952E3,null]];J=q[6];n=J[1];var Q=J[2];for(b=0;b<q.length&&!(J=q[b],n=J[1],Q=J[2],q[b+1]&&Fa<=(n*Q[Q.length-1]+q[b+1][1])/2);b++);31556952E3==n&&Fa<5*n&&(Q=[1,2,5]);q=d(Fa/n,Q);var t=new Date(1*z);t.setMilliseconds(0);1E3<=n&&t.setSeconds(6E4<=n?0:q*ta(t.getSeconds()/q));if(6E4<=n)t[Fb](36E5<=n?0:q*ta(t[tb]()/q));if(36E5<=n)t[Pb](864E5<=n?0:q*ta(t[ub]()/q));if(864E5<=n)t[kb](2592E6<=n?1:q*ta(t[Eb]()/q));2592E6<=n&&(t[Gb](31556952E3<=n?0:q*ta(t[Ob]()/
q)),h=t[jb]());if(31556952E3<=n)t[Ub](h-h%q);if(6048E5==n)t[kb](t[Eb]()-t[Nb]()+a.startOfWeek);b=1;h=t[jb]();for(var Q=t.getTime()/1,r=t[Ob](),t=t[Eb]();Q<ga&&b<ua;)ma.push(Q),Q=31556952E3==n?sb(h+b*q,0)/1:2592E6==n?sb(h,r+b*q)/1:v||864E5!=n&&6048E5!=n?Q+n*q:sb(h,r,t+b*q*(864E5==n?1:7)),b++;ma.push(Q);va=a.dateTimeLabelFormats[J[0]]}else for(b=ta(z/Fa)*Fa,h=Na(ga/Fa)*Fa,ma=[],b=k(b);b<=h;)ma.push(b),b=k(b+Fa);if(!N){if(ca||P&&f.hasColumn){h=.5*(ca?1:Fa);if(ca||!y(s(a.min,wb)))z-=h;if(ca||!y(s(a.max,
D)))ga+=h}h=ma[0];b=ma[ma.length-1];a.startOnTick?z=h:z>h&&ma.shift();a.endOnTick?ga=b:ga<b&&ma.pop();mb||(mb={x:0,y:0});!l&&ma.length>mb[I]&&(mb[I]=ma.length)}}function q(){var f,a;K=z;M=ga;h();G();m=x;x=za/(ga-z||1);if(!P)for(f in p)for(a in p[f])p[f][a].cum=p[f][a].total;g.isDirty||(g.isDirty=z!=K||ga!=M)}function J(f){f=(new n(f)).render();U.push(f);return f}function Q(){var h=a.title,d=a.alternateGridColor,b=a.lineWidth,k,G,q=f.hasRendered,J=q&&y(K)&&!isNaN(K);k=aa.length&&y(z)&&y(ga);za=C?ua:
ra;x=za/(ga-z||1);Aa=C?S:Ha;if(k||N){if(fa&&!ca)for(k=z+(ma[0]-z)%fa,k;k<=ga;k+=fa)Ib[k]||(Ib[k]=new v(k,!0)),J&&Ib[k].isNew&&Ib[k].render(null,!0),Ib[k].isActive=!0,Ib[k].render();E(ma,function(f,a){if(!N||f>=z&&f<=ga)J&&Ya[f].isNew&&Ya[f].render(a,!0),Ya[f].isActive=!0,Ya[f].render(a)});d&&E(ma,function(f,a){0===a%2&&f<ga&&(la[f]||(la[f]=new n),la[f].options={from:f,to:ma[a+1]!==Ga?ma[a+1]:ga,color:d},la[f].render(),la[f].isActive=!0)});q||E((a.plotLines||[]).concat(a.plotBands||[]),function(f){U.push((new n(f)).render())})}E([Ya,
Ib,la],function(f){for(var a in f)f[a].isActive?f[a].isActive=!1:(f[a].destroy(),delete f[a])});b&&(k=S+(r?ua:0)+ja,G=O-Ha-(r?ra:0)+ja,k=da.crispLine(["M",C?S:k,C?G:T,"L",C?Ka-La:k,C?G:O-Ha],b),B?B.animate({d:k}):B=da.path(k).attr({stroke:a.lineColor,"stroke-width":b,zIndex:7}).add());g.axisTitle&&(k=C?S:T,b=e(h.style.fontSize||12),k={low:k+(C?0:za),middle:k+za/2,high:k+(C?za:0)}[h.align],b=(C?T+ra:S)+(C?1:-1)*(r?-1:1)*Ca+(2==A?b:0),g.axisTitle[q?"animate":"attr"]({x:C?k:b+(r?ua:0)+ja+(h.x||0),y:C?
b-(r?ra:0)+ja:k+(h.y||0)}));g.isDirty=!1}function t(f){for(var a=0;a<U.length;a++)U[a].id==f&&U[a].destroy()}var P=a.isX,r=a.opposite,C=Ia?!P:P,A=C?r?0:2:r?1:3,p={};a=na(P?Ra:Vb,[bc,ea,Wb,ha][A],a);var g=this,l="datetime"==a.type,ja=a.offset||0,I=P?"x":"y",za,x,m,Aa=C?S:Ha,Ma,w,ia,H,B,Oa,ka,aa,wb,D,ga=null,z=null,K,M,$b=a.minPadding,R=a.maxPadding,N=y(a.linkedTo),fb,cc,V,X=a.events,Y,U=[],Fa,fa,ba,ma,Ya={},Ib={},la={},pa,oa,Ca,va,ca=a.categories,gc=a.labels.formatter||function(){var f=this.value;
return va?Qb(va,f):0===Fa%1E6?f/1E6+"M":0===Fa%1E3?f/1E3+"k":!ca&&1E3<=f?eb(f,0):f},Ea=C&&a.labels.staggerLines,ya=a.reversed,Ba=ca&&"between"==a.tickmarkPlacement?.5:0;v.prototype={addLabel:function(){var f=this.pos,v=a.labels,n=!(f==z&&!s(a.showFirstLabel,1)||f==ga&&!s(a.showLastLabel,0)),h=ca&&C&&ca.length&&!v.step&&!v.staggerLines&&!v.rotation&&ua/ca.length||!C&&ua/2,d=this.label,f=gc.call({isFirst:f==ma[0],isLast:f==ma[ma.length-1],dateTimeLabelFormat:va,value:ca&&ca[f]?ca[f]:f}),h=h&&{width:h-
2*(v.padding||10)+"px"},h=b(h,v.style);d===Ga?this.label=y(f)&&n&&v.enabled?da.text(f,0,0).attr({align:v.align,rotation:v.rotation}).css(h).add(ia):null:d&&d.attr({text:f}).css(h)},getLabelSize:function(){var f=this.label;return f?(this.labelBBox=f.getBBox())[C?"height":"width"]:0},render:function(f,v){var n=!this.minor,h=this.label,d=this.pos,k=a.labels,b=this.gridLine,G=n?a.gridLineWidth:a.minorGridLineWidth,q=n?a.gridLineColor:a.minorGridLineColor,J=n?a.gridLineDashStyle:a.minorGridLineDashStyle,
Q=this.mark,t=n?a.tickLength:a.minorTickLength,P=n?a.tickWidth:a.minorTickWidth||0,A=n?a.tickColor:a.minorTickColor,p=n?a.tickPosition:a.minorTickPosition,n=k.step,e=v&&Wa||O,g;g=C?Ma(d+Ba,null,null,v)+Aa:S+ja+(r?(v&&Da||Ka)-La-S:0);e=C?e-Ha+ja-(r?ra:0):e-Ma(d+Ba,null,null,v)-Aa;G&&(d=w(d+Ba,G,v),b===Ga&&(b={stroke:q,"stroke-width":G},J&&(b.dashstyle=J),this.gridLine=b=G?da.path(d).attr(b).add(H):null),b&&d&&b.animate({d:d}));P&&("inside"==p&&(t=-t),r&&(t=-t),G=da.crispLine(["M",g,e,"L",g+(C?0:-t),
e+(C?t:0)],P),Q?Q.animate({d:G}):this.mark=da.path(G).attr({stroke:A,"stroke-width":P}).add(ia));if(h){g=g+k.x-(Ba&&C?Ba*x*(ya?-1:1):0);e=e+k.y-(Ba&&!C?Ba*x*(ya?1:-1):0);y(k.y)||(e+=.9*parseInt(h.styles.lineHeight)-h.getBBox().height/2);Ea&&(e+=f%Ea*16);if(n)h[f%n?"hide":"show"]();h[this.isNew?"attr":"animate"]({x:g,y:e})}this.isNew=!1},destroy:function(){for(var f in this)this[f]&&this[f].destroy&&this[f].destroy()}};n.prototype={render:function(){var f=this,a=f.options,v=a.label,n=f.label,h=a.width,
d=a.to,k,b=a.from,G=a.dashStyle,q=f.svgElem,J=[],Q,t,P=a.color;t=a.zIndex;var r=a.events;if(h)J=w(a.value,h),a={stroke:P,"stroke-width":h},G&&(a.dashstyle=G);else if(y(b)&&y(d))b=W(b,z),d=Z(d,ga),k=w(d),(J=w(b))&&k?J.push(k[4],k[5],k[1],k[2]):J=null,a={fill:P};else return;y(t)&&(a.zIndex=t);if(q)J?q.animate({d:J},null,q.onGetPath):(q.hide(),q.onGetPath=function(){q.show()});else if(J&&J.length&&(f.svgElem=q=da.path(J).attr(a).add(),r))for(Q in G=function(a){q.on(a,function(v){r[a].apply(f,[v])})},
r)G(Q);v&&y(v.text)&&J&&J.length&&0<ua&&0<ra?(v=na({align:C&&k&&"center",x:C?!k&&4:10,verticalAlign:!C&&k&&"middle",y:C?k?16:10:k?6:-4,rotation:C&&!k&&90},v),n||(f.label=n=da.text(v.text,0,0).attr({align:v.textAlign||v.align,rotation:v.rotation,zIndex:t}).css(v.style).add()),k=[J[1],J[4],J[6]||J[1]],J=[J[2],J[5],J[7]||J[2]],Q=Z.apply(qa,k),t=Z.apply(qa,J),n.align(v,!1,{x:Q,y:t,width:W.apply(qa,k)-Q,height:W.apply(qa,J)-t}),n.show()):n&&n.hide();return f},destroy:function(){for(var f in this)this[f]&&
this[f].destroy&&this[f].destroy(),delete this[f];u(U,this)}};Ma=function(f,a,v,n){var h=1,d=0,k=n?m:x;n=n?K:z;k||(k=x);v&&(h*=-1,d=za);ya&&(h*=-1,d-=h*za);a?(ya&&(f=za-f),f=f/k+n):f=h*(f-n)*k+d;return f};w=function(f,a,v){var n,h,d;f=Ma(f,null,null,v);var k=v&&Wa||O,b=v&&Da||Ka,G;v=h=F(f+Aa);n=d=F(k-f-Aa);if(isNaN(f))G=!0;else if(C){if(n=T,d=k-Ha,v<S||v>S+ua)G=!0}else if(v=S,h=b-La,n<T||n>T+ra)G=!0;return G?null:da.crispLine(["M",v,n,"L",h,d],a||0)};Ia&&P&&ya===Ga&&(ya=!0);b(g,{addPlotBand:J,addPlotLine:J,
adjustTickAmount:function(){if(mb&&!l&&!ca&&!N){var f=pa,a=ma.length;pa=mb[I];if(a<pa){for(;ma.length<pa;)ma.push(k(ma[ma.length-1]+Fa));x*=(a-1)/(pa-1);ga=ma[ma.length-1]}y(f)&&pa!=f&&(g.isDirty=!0)}},categories:ca,getExtremes:function(){return{min:z,max:ga,dataMin:Oa,dataMax:ka}},getPlotLinePath:w,getThreshold:function(f){z>f?f=z:ga<f&&(f=ga);return Ma(f,0,1)},isXAxis:P,options:a,plotLinesAndBands:U,getOffset:function(){var f=aa.length&&y(z)&&y(ga),n=0,h=0,d=a.title,k=a.labels,b=[-1,1,1,-1][A];
ia||(ia=da.g("axis").attr({zIndex:7}).add(),H=da.g("grid").attr({zIndex:1}).add());oa=0;if(f||N)E(ma,function(f){Ya[f]?Ya[f].addLabel():Ya[f]=new v(f);if(0===A||2==A||{1:"left",3:"right"}[A]==k.align)oa=W(Ya[f].getLabelSize(),oa)}),Ea&&(oa+=16*(Ea-1));else for(var G in Ya)Ya[G].destroy(),delete Ya[G];d&&d.text&&(g.axisTitle||(g.axisTitle=da.text(d.text,0,0).attr({zIndex:7,rotation:d.rotation||0,align:d.textAlign||{low:"left",middle:"center",high:"right"}[d.align]}).css(d.style).add()),n=g.axisTitle.getBBox()[C?
"height":"width"],h=s(d.margin,C?5:10));ja=b*(a.offset||vb[A]);Ca=oa+(2!=A&&oa&&b*a.labels[C?"y":"x"])+h;vb[A]=W(vb[A],Ca+n+b*ja)},render:Q,setCategories:function(a,v){g.categories=ca=a;E(aa,function(f){f.translate();f.setTooltipPoints(!0)});g.isDirty=!0;s(v,!0)&&f.redraw()},setExtremes:function(a,v,n,h){n=s(n,!0);xa(g,"setExtremes",{min:a,max:v},function(){wb=a;D=v;n&&f.redraw(h)})},setScale:q,setTickPositions:G,translate:Ma,redraw:function(){Ua.resetTracker&&Ua.resetTracker();Q();E(U,function(f){f.render()});
E(aa,function(f){f.isDirty=!0})},removePlotBand:t,removePlotLine:t,reversed:ya,stacks:p});for(Y in X)sa(g,Y,X[Y]);q()}function q(f){var v={};return{add:function(f,n,h,d){v[f]||(n=da.text(n,0,0).css(a.toolbar.itemStyle).align({align:"right",x:-La-20,y:T+30}).on("click",d).attr({align:"right",zIndex:20}).add(),v[f]=n)},remove:function(f){fa(v[f].element);v[f]=null}}}function t(f){function a(){var f=this.points||z(this),v=f[0].series.xAxis,n=this.x,v=v&&"datetime"==v.options.type,h=g(n)||v,d;d=h?['<span style="font-size: 10px">',
v?Qb("%A, %b %e, %Y",n):n,"</span><br/>"]:[];E(f,function(f){d.push(f.point.tooltipFormatter(h))});return d.join("")}function v(f,a){r=t?f:(2*r+f)/3;A=t?a:(A+a)/2;p.translate(r,A);lb=1<U(f-r)||1<U(a-A)?function(){v(f,a)}:null}function n(){if(!t){var f=H.hoverPoints;p.hide();E(b,function(f){f&&f.hide()});f&&E(f,function(f){f.setState()});H.hoverPoints=null;t=!0}}var h,d=f.borderWidth,k=f.crosshairs,b=[],G=f.style,q=f.shared,J=e(G.padding),Q=d+J,t=!0,C,P,r=0,A=0;G.padding=0;var p=da.g("tooltip").attr({zIndex:8}).add(),
l=da.rect(Q,Q,0,0,f.borderRadius,d).attr({fill:f.backgroundColor,"stroke-width":d}).add(p).shadow(f.shadow),ja=da.text("",J+Q,e(G.fontSize)+J+Q).attr({zIndex:1}).css(G).add(p);p.hide();return{shared:q,refresh:function(d){var G,r,A,e=0,g={},La=[];A=d.tooltipPos;G=f.formatter||a;var g=H.hoverPoints,Ha=function(f){return{series:f.series,point:f,x:f.category,y:f.y,percentage:f.percentage,total:f.total||f.stackTotal}};q?(g&&E(g,function(f){f.setState()}),H.hoverPoints=d,E(d,function(f,a){f.setState("hover");
e+=f.plotY;La.push(Ha(f))}),r=d[0].plotX,e=F(e)/d.length,g={x:d[0].category},g.points=La,d=d[0]):g=Ha(d);g=G.call(g);h=d.series;r=q?r:d.plotX;e=q?e:d.plotY;G=F(A?A[0]:Ia?ua-e:r);r=F(A?A[1]:Ia?ra-r:e);A=q||!d.series.isCartesian||Ba(G,r);!1!==g&&A?(t&&(p.show(),t=!1),ja.attr({text:g}),A=ja.getBBox(),C=A.width+2*J,P=A.height+2*J,l.attr({width:C,height:P,stroke:f.borderColor||d.color||h.color||"#606060"}),G=G-C+S-25,r=r-P+T+10,7>G&&(G=7,r-=30),5>r?r=5:r+P>O&&(r=O-P-5),v(F(G-Q),F(r-Q))):n();if(k){k=z(k);
r=k.length;for(var I;r--;)k[r]&&(I=d.series[r?"yAxis":"xAxis"])&&(G=I.getPlotLinePath(d[r?"y":"x"],1),b[r]?b[r].attr({d:G,visibility:"visible"}):(A={"stroke-width":k[r].width||1,stroke:k[r].color||"#C0C0C0",zIndex:2},k[r].dashStyle&&(A.dashstyle=k[r].dashStyle),b[r]=da.path(G).attr(A).add()))}},hide:n}}function A(f,a){function v(f){var a;f=f||w.event;f.target||(f.target=f.srcElement);a=f.touches?f.touches.item(0):f;if("mousemove"!=f.type||w.opera){for(var n=ia,h={left:n.offsetLeft,top:n.offsetTop};n=
n.offsetParent;)h.left+=n.offsetLeft,h.top+=n.offsetTop,n!=ba.body&&n!=ba.documentElement&&(h.left-=n.scrollLeft,h.top-=n.scrollTop);$a=h}Lb?(f.chartX=f.x,f.chartY=f.y):a.layerX===Ga?(f.chartX=a.pageX-$a.left,f.chartY=a.pageY-$a.top):(f.chartX=f.layerX,f.chartY=f.layerY);return f}function n(f){var a={xAxis:[],yAxis:[]};E(Ea,function(v,n){var h=v.translate,d=v.isXAxis;a[d?"xAxis":"yAxis"].push({axis:v,value:h((Ia?!d:d)?f.chartX-S:ra-f.chartY+T,!0)})});return a}function h(){var a=f.hoverSeries,v=f.hoverPoint;
if(v)v.onMouseOut();if(a)a.onMouseOut();Ta&&Ta.hide();rb=null}function d(){if(J){var a={xAxis:[],yAxis:[]},v=J.getBBox(),n=v.x-S,h=v.y-T;q&&(E(Ea,function(f,d){var k=f.translate,b=f.isXAxis,G=Ia?!b:b,q=k(G?n:ra-h-v.height,!0),k=k(G?n+v.width:ra-h,!0);a[b?"xAxis":"yAxis"].push({axis:f,min:Z(q,k),max:W(q,k)})}),xa(f,"selection",a,Db));J=J.destroy()}f.mouseIsDown=ab=q=!1;Va(ba,oa?"touchend":"mouseup",d)}var k,G,q,J,Q=L.zoomType,r=/x/.test(Q),C=/y/.test(Q),P=r&&!Ia||C&&Ia,A=C&&!Ia||r&&Ia;cb=function(){bb?
(bb.translate(S,T),Ia&&bb.attr({width:f.plotWidth,height:f.plotHeight}).invert()):f.trackerGroup=bb=da.g("tracker").attr({zIndex:9}).add()};cb();a.enabled&&(f.tooltip=Ta=t(a));(function(){var Q=!0;ia.onmousedown=function(a){a=v(a);f.mouseIsDown=ab=!0;k=a.chartX;G=a.chartY;sa(ba,oa?"touchend":"mouseup",d)};var t=function(n){if(!(n&&n.touches&&1<n.touches.length)){n=v(n);oa||(n.returnValue=!1);var d=n.chartX,b=n.chartY,t=!Ba(d-S,b-T);oa&&"touchstart"==n.type&&(K(n.target,"isTracker")?f.runTrackerClick||
n.preventDefault():Za||t||n.preventDefault());t&&(Q||h(),d<S?d=S:d>S+ua&&(d=S+ua),b<T?b=T:b>T+ra&&(b=T+ra));if(ab&&"touchstart"!=n.type){if(q=10<Math.sqrt(Math.pow(k-d,2)+Math.pow(G-b,2)))Rb&&(r||C)&&Ba(k-S,G-T)&&(J||(J=da.rect(S,T,P?1:ua,A?1:ra,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add())),J&&P&&(d-=k,J.attr({width:U(d),x:(0<d?0:d)+k})),J&&A&&(b-=G,J.attr({height:U(b),y:(0<b?0:b)+G}))}else if(!t){var e,b=f.hoverPoint,d=f.hoverSeries,p,g,l=Ka,ja=Ia?n.chartY:n.chartX-S;if(Ta&&a.shared){e=
[];p=wa.length;for(g=0;g<p;g++)wa[g].visible&&wa[g].tooltipPoints.length&&(n=wa[g].tooltipPoints[ja],n._dist=U(ja-n.plotX),l=Z(l,n._dist),e.push(n));for(p=e.length;p--;)e[p]._dist>l&&e.splice(p,1);e.length&&e[0].plotX!=rb&&(Ta.refresh(e),rb=e[0].plotX)}if(d&&d.tracker&&(n=d.tooltipPoints[ja])&&n!=b)n.onMouseOver()}return(Q=t)||!Rb}};ia.onmousemove=t;sa(ia,"mouseleave",h);ia.ontouchstart=function(f){if(r||C)ia.onmousedown(f);t(f)};ia.ontouchmove=t;ia.ontouchend=function(){q&&h()};ia.onclick=function(a){var h=
f.hoverPoint;a=v(a);a.cancelBubble=!0;if(!q)if(h&&K(a.target,"isTracker")){var d=h.plotX,k=h.plotY;b(h,{pageX:$a.left+S+(Ia?ua-k:d),pageY:$a.top+T+(Ia?ra-d:k)});xa(h.series,"click",b(a,{point:h}));h.firePointEvent("click",a)}else b(a,n(a)),Ba(a.chartX-S,a.chartY-T)&&xa(f,"click",a);q=!1}})();yb=setInterval(function(){lb&&lb()},32);b(this,{zoomX:r,zoomY:C,resetTracker:h})}function p(f){var a=f.type||L.type||L.defaultSeriesType,v=ya[a],n=H.hasRendered;n&&(Ia&&"column"==a?v=ya.bar:Ia||"bar"!=a||(v=ya.column));
a=new v;a.init(H,f);!n&&a.inverted&&(Ia=!0);a.isCartesian&&(Rb=a.isCartesian);wa.push(a);return a}function ja(){!1!==L.alignTicks&&E(Ea,function(f){f.adjustTickAmount()});mb=null}function za(f){var a=H.isDirtyLegend,v,n=H.isDirtyBox,h=wa.length,d=h,k=H.clipRect;for(db(f,H);d--;)if(f=wa[d],f.isDirty&&f.options.stacking){v=!0;break}if(v)for(d=h;d--;)f=wa[d],f.options.stacking&&(f.isDirty=!0);E(wa,function(f){f.isDirty&&(f.cleanData(),f.getSegments(),"point"==f.options.legendType&&(a=!0))});a&&hb.renderLegend&&
(hb.renderLegend(),H.isDirtyLegend=!1);Rb&&(Sb||(mb=null,E(Ea,function(f){f.setScale()})),ja(),Xb(),E(Ea,function(f){if(f.isDirty||n)f.redraw(),n=!0}));n&&(zb(),cb(),k&&(Hb(k),k.animate({width:H.plotSizeX,height:H.plotSizeY})));E(wa,function(f){f.isDirty&&f.visible&&(!f.isCartesian||f.xAxis)&&f.redraw()});Ua&&Ua.resetTracker&&Ua.resetTracker();xa(H,"redraw")}function I(){var f=a.xAxis||{},v=a.yAxis||{},n,f=z(f);E(f,function(f,a){f.index=a;f.isX=!0});v=z(v);E(v,function(f,a){f.index=a});Ea=f.concat(v);
H.xAxis=[];H.yAxis=[];Ea=nb(Ea,function(f){n=new d(H,f);H[n.isXAxis?"xAxis":"yAxis"].push(n);return n});ja()}function x(f,v){C=na(a.title,f);r=na(a.subtitle,v);E([["title",f,C],["subtitle",v,r]],function(f){var a=f[0],v=H[a],n=f[1];f=f[2];v&&n&&(v.destroy(),v=null);f&&f.text&&!v&&(H[a]=da.text(f.text,0,0).attr({align:f.align,"class":"highcharts-"+a,zIndex:1}).css(f.style).add().align(f,!1,P))})}function m(){Aa=L.renderTo;N="highcharts-"+Yb++;g(Aa)&&(Aa=ba.getElementById(Aa));Aa.innerHTML="";Aa.offsetWidth||
(Ma=Aa.cloneNode(0),Y(Ma,{position:"absolute",top:"-9999px",display:""}),ba.body.appendChild(Ma));V=(Ma||Aa).offsetWidth;X=(Ma||Aa).offsetHeight;H.chartWidth=Ka=L.width||V||600;H.chartHeight=O=L.height||(19<X?X:400);H.container=ia=la("div",{className:"highcharts-container"+(L.className?" "+L.className:""),id:N},b({position:"relative",overflow:"hidden",width:Ka+"px",height:O+"px",textAlign:"left"},L.style),Ma||Aa);H.renderer=da=L.forExport?new Jb(ia,Ka,O,!0):new Zb(ia,Ka,O);var f,a;pa&&ia.getBoundingClientRect&&
(f=function(){Y(ia,{left:0,top:0});a=ia.getBoundingClientRect();Y(ia,{left:-a.left%1+"px",top:-a.top%1+"px"})},f(),sa(w,"resize",f),sa(H,"destroy",function(){Va(w,"resize",f)}))}function ka(){function f(){var v=L.width||Aa.offsetWidth,n=L.height||Aa.offsetHeight;if(v&&n){if(v!=V||n!=X)clearTimeout(a),a=setTimeout(function(){Cb(v,n,!1)},100);V=v;X=n}}var a;sa(window,"resize",f);sa(H,"destroy",function(){Va(window,"resize",f)})}function B(){var f=a.labels,v=a.credits,n;x();hb=H.legend=new ac(H);Xb();
E(Ea,function(f){f.setTickPositions(!0)});ja();Xb();zb();Rb&&E(Ea,function(f){f.render()});H.seriesGroup||(H.seriesGroup=da.g("series-group").attr({zIndex:3}).add());E(wa,function(f){f.translate();f.setTooltipPoints();f.render()});f.items&&E(f.items,function(){var a=b(f.style,this.style),v=e(a.left)+S,n=e(a.top)+T+12;delete a.left;delete a.top;da.text(this.html,v,n).attr({zIndex:2}).css(a).add()});H.toolbar||(H.toolbar=q(H));v.enabled&&!H.credits&&(n=v.href,da.text(v.text,0,0).on("click",function(){n&&
(location.href=n)}).attr({align:v.position.align,zIndex:8}).css(v.style).add().align(v.position));cb();H.hasRendered=!0;Ma&&(Aa.appendChild(ia),fa(Ma))}function D(){var f=wa.length,a=ia&&ia.parentNode;xa(H,"destroy");Va(w,"unload",D);Va(H);for(E(Ea,function(f){Va(f)});f--;)wa[f].destroy();y(ia)&&(ia.innerHTML="",Va(ia),a&&a.removeChild(ia));ia=null;da.alignedObjects=null;clearInterval(yb);for(f in H)delete H[f]}function M(){R||w.parent||"complete"==ba.readyState?(m(),Ab(),Bb(),E(a.series||[],function(f){p(f)}),
H.inverted=Ia=s(Ia,a.chart.inverted),I(),H.render=B,H.tracker=Ua=new A(H,a.tooltip),B(),xa(H,"load"),h&&h.apply(H,[H]),E(H.callbacks,function(f){f.apply(H,[H])})):ba.attachEvent("onreadystatechange",function(){ba.detachEvent("onreadystatechange",M);M()})}Ra=na(Ra,Ja.xAxis);Vb=na(Vb,Ja.yAxis);Ja.xAxis=Ja.yAxis=null;a=na(Ja,a);var L=a.chart,aa=L.margin,aa=l(aa)?aa:[aa,aa,aa,aa],fb=s(L.marginTop,aa[0]),f=s(L.marginRight,aa[1]),v=s(L.marginBottom,aa[2]),n=s(L.marginLeft,aa[3]),G=L.spacingTop,J=L.spacingRight,
k=L.spacingBottom,Q=L.spacingLeft,P,C,r,T,La,Ha,S,vb,Aa,Ma,ia,N,V,X,Ka,O,Da,Wa,Ca,va,ca,Qa,H=this,Za=(aa=L.events)&&!!aa.click,Xa,Ba,Ta,ab,Pa,ib,gb,ra,ua,Ua,bb,cb,hb,ob,pb,$a,Rb=L.showAxes,Sb=0,Ea=[],mb,wa=[],Ia,da,lb,yb,rb,zb,Xb,Ab,Bb,Cb,Db,Tb,ac=function(f){function a(f,v){var n=f.legendItem,h=f.legendLine,d=f.legendSymbol,k=p.color,b=v?G.itemStyle.color:k,k=v?f.color:k;n&&n.css({fill:b});h&&h.attr({stroke:k});d&&d.attr({stroke:k,fill:k})}function v(f,a,n){var h=f.legendItem,d=f.legendLine,k=f.legendSymbol;
f=f.checkbox;h&&h.attr({x:a,y:n});d&&d.translate(a,n-4);k&&k.attr({x:a+k.xOff,y:n+k.yOff});f&&(f.x=a,f.y=n)}function n(f){var a=f.checkbox;E(["legendItem","legendLine","legendSymbol"],function(a){f[a]&&f[a].destroy()});a&&fa(f.checkbox)}function h(){E(Q,function(f){var a=f.checkbox;a&&Y(a,{left:x.attr("translateX")+f.legendItemWidth+a.x-40+"px",top:x.attr("translateY")+a.y-11+"px"})})}function d(f){var n,h,k,b,r,P=f.legendItem;b=f.series||f;if(!P){r=/^(bar|pie|area|column)$/.test(b.type);f.legendItem=
P=da.text(G.labelFormatter.call(f),0,0).css(f.visible?C:p).on("mouseover",function(){f.setState("hover");P.css(A)}).on("mouseout",function(){P.css(f.visible?C:p);f.setState()}).on("click",function(a){a=function(){f.setVisible()};f.firePointEvent?f.firePointEvent("legendItemClick",null,a):xa(f,"legendItemClick",null,a)}).attr({zIndex:2}).add(x);if(!r&&f.options&&f.options.lineWidth){var e=f.options;b={"stroke-width":e.lineWidth,zIndex:2};e.dashStyle&&(b.dashstyle=e.dashStyle);f.legendLine=da.path(["M",
-J-t,0,"L",-t,0]).attr(b).add(x)}r?n=da.rect(h=-J-t,k=-11,J,12,2).attr({"stroke-width":0,zIndex:3}).add(x):f.options&&f.options.marker&&f.options.marker.enabled&&(n=da.symbol(f.symbol,h=-J/2-t,k=-4,f.options.marker.radius).attr(f.pointAttr[""]).attr({zIndex:3}).add(x));n&&(n.xOff=h,n.yOff=k);f.legendSymbol=n;a(f,f.visible);f.options&&f.options.showCheckbox&&(f.checkbox=la("input",{type:"checkbox",checked:f.selected,defaultChecked:f.selected},G.itemCheckboxStyle,ia),sa(f.checkbox,"click",function(a){xa(f,
"checkboxClick",{checked:a.target.checked},function(){f.select()})}))}n=P.getBBox();h=f.legendItemWidth=G.itemWidth||J+t+n.width+20;Ha=n.height;q&&l-T+h>(m||Ka-2*g-T)&&(l=T,ja+=Ha);La=ja;v(f,l,ja);q?l+=h:ja+=Ha;s=m||W(q?l-T:h,s);Q.push(f)}function k(){l=T;ja=18;La=s=0;Q=[];x||(x=da.g("legend").attr({zIndex:7}).add());Ma&&Aa.reverse();E(Aa,function(f){f.options.showInLegend&&E("point"==f.options.legendType?f.data:[f],d)});Ma&&Aa.reverse();ob=m||s;pb=La-18+Ha;if(za||S)ob+=2*g,pb+=2*g,I?0<ob&&0<pb&&
I.animate({width:ob,height:pb}):I=da.rect(0,0,ob,pb,G.borderRadius,za||0).attr({stroke:G.borderColor,"stroke-width":za||0,fill:S||"none"}).add(x).shadow(G.shadow),I[Q.length?"show":"hide"]();for(var f=["left","right","top","bottom"],a,v=4;v--;)a=f[v],r[a]&&"auto"!=r[a]&&(G[2>v?"align":"verticalAlign"]=a,G[2>v?"x":"y"]=e(r[a])*(v%2?-1:1));x.align(b(G,{width:ob,height:pb}),!0,P);Sb||h()}var G=f.options.legend;if(G.enabled){var q="horizontal"==G.layout,J=G.symbolWidth,t=G.symbolPadding,Q,r=G.style,C=
G.itemStyle,A=G.itemHoverStyle,p=G.itemHiddenStyle,g=e(r.padding),T=4+g+J+t,l,ja,La,Ha=0,I,za=G.borderWidth,S=G.backgroundColor,x,s,m=G.width,Aa=f.series,Ma=G.reversed;k();sa(f,"endResize",h);return{colorizeItem:a,destroyItem:n,renderLegend:k}}};Ba=function(f,a){return 0<=f&&f<=ua&&0<=a&&a<=ra};Tb=function(){xa(H,"selection",{resetSelection:!0},Db);H.toolbar.remove("zoom")};Db=function(f){var a=Ja.lang,v=100>H.pointCount;H.toolbar.add("zoom",a.resetZoom,a.resetZoomTitle,Tb);!f||f.resetSelection?E(Ea,
function(f){f.setExtremes(null,null,!1,v)}):E(f.xAxis.concat(f.yAxis),function(f){var a=f.axis;H.tracker[a.isXAxis?"zoomX":"zoomY"]&&a.setExtremes(f.min,f.max,!1,v)});za()};Xb=function(){var h=a.legend,d=s(h.margin,10),b=h.x,q=h.y,t=h.align,P=h.verticalAlign,A;Ab();!H.title&&!H.subtitle||y(fb)||(A=W(H.title&&!C.floating&&!C.verticalAlign&&C.y||0,H.subtitle&&!r.floating&&!r.verticalAlign&&r.y||0))&&(T=W(T,A+s(C.margin,15)+G));h.enabled&&!h.floating&&("right"==t?y(f)||(La=W(La,ob-b+d+J)):"left"==t?
y(n)||(S=W(S,ob+b+d+Q)):"top"==P?y(fb)||(T=W(T,pb+q+d+G)):"bottom"==P&&(y(v)||(Ha=W(Ha,pb-q+d+k))));Rb&&E(Ea,function(f){f.getOffset()});y(n)||(S+=vb[3]);y(fb)||(T+=vb[0]);y(v)||(Ha+=vb[2]);y(f)||(La+=vb[1]);Bb()};Cb=function(f,a,v){var n=H.title,h=H.subtitle;Sb+=1;db(v,H);Wa=O;Da=Ka;Ka=F(f);O=F(a);Y(ia,{width:Ka+"px",height:O+"px"});da.setSize(Ka,O,v);ua=Ka-S-La;ra=O-T-Ha;mb=null;E(Ea,function(f){f.isDirty=!0;f.setScale()});E(wa,function(f){f.isDirty=!0});H.isDirtyLegend=!0;H.isDirtyBox=!0;Xb();
n&&n.align(null,null,P);h&&h.align(null,null,P);za(v);Wa=null;xa(H,"resize");setTimeout(function(){xa(H,"endResize",null,function(){Sb-=1})},Mb&&Mb.duration||500)};Bb=function(){H.plotLeft=S=F(S);H.plotTop=T=F(T);H.plotWidth=ua=F(Ka-S-La);H.plotHeight=ra=F(O-T-Ha);H.plotSizeX=Ia?ra:ua;H.plotSizeY=Ia?ua:ra;P={x:Q,y:G,width:Ka-Q-J,height:O-G-k}};Ab=function(){T=s(fb,G);La=s(f,J);Ha=s(v,k);S=s(n,Q);vb=[0,0,0,0]};zb=function(){var f=L.borderWidth||0,a=L.backgroundColor,v=L.plotBackgroundColor,n=L.plotBackgroundImage,
h,d={x:S,y:T,width:ua,height:ra};h=f+(L.shadow?8:0);if(f||a)Ca?Ca.animate({width:Ka-h,height:O-h}):Ca=da.rect(h/2,h/2,Ka-h,O-h,L.borderRadius,f).attr({stroke:L.borderColor,"stroke-width":f,fill:a||"none"}).add().shadow(L.shadow);v&&(va?va.animate(d):va=da.rect(S,T,ua,ra,0).attr({fill:v}).add().shadow(L.plotShadow));n&&(ca?ca.animate(d):ca=da.image(n,S,T,ua,ra).add());L.plotBorderWidth&&(Qa?Qa.animate(d):Qa=da.rect(S,T,ua,ra,0,L.plotBorderWidth).attr({stroke:L.plotBorderColor,"stroke-width":L.plotBorderWidth,
zIndex:4}).add());H.isDirtyBox=!1};qb=Sa=0;sa(w,"unload",D);!1!==L.reflow&&sa(H,"load",ka);if(aa)for(Xa in aa)sa(H,Xa,aa[Xa]);H.options=a;H.series=wa;H.addSeries=function(f,a,v){var n;f&&(db(v,H),a=s(a,!0),xa(H,"addSeries",{options:f},function(){n=p(f);n.isDirty=!0;H.isDirtyLegend=!0;a&&H.redraw()}));return n};H.animation=s(L.animation,!0);H.destroy=D;H.get=function(f){var a,v,n;for(a=0;a<Ea.length;a++)if(Ea[a].options.id==f)return Ea[a];for(a=0;a<wa.length;a++)if(wa[a].options.id==f)return wa[a];
for(a=0;a<wa.length;a++)for(n=wa[a].data,v=0;v<n.length;v++)if(n[v].id==f)return n[v];return null};H.getSelectedPoints=function(){var f=[];E(wa,function(a){f=f.concat(xb(a.data,function(f){return f.selected}))});return f};H.getSelectedSeries=function(){return xb(wa,function(f){return f.selected})};H.hideLoading=function(){Kb(Pa,{opacity:0},{duration:a.loading.hideDuration,complete:function(){Y(Pa,{display:"none"})}});gb=!1};H.isInsidePlot=Ba;H.redraw=za;H.setSize=Cb;H.setTitle=x;H.showLoading=function(f){var v=
a.loading;Pa||(Pa=la("div",{className:"highcharts-loading"},b(v.style,{left:S+"px",top:T+"px",width:ua+"px",height:ra+"px",zIndex:10,display:"none"}),ia),ib=la("span",null,v.labelStyle,Pa));ib.innerHTML=f||a.lang.loading;gb||(Y(Pa,{opacity:0,display:""}),Kb(Pa,{opacity:v.style.opacity},{duration:v.showDuration}),gb=!0)};H.pointCount=0;M()}var ba=document,w=window,qa=Math,F=qa.round,ta=qa.floor,Na=qa.ceil,W=qa.max,Z=qa.min,U=qa.abs,V=qa.cos,O=qa.sin,Za=qa.PI,X=2*Za/360,Ba=navigator.userAgent,Lb=/msie/i.test(Ba)&&
!w.opera,Pa=8==ba.documentMode,Tb=/AppleWebKit/.test(Ba),pa=/Firefox/.test(Ba),R=!!ba.createElementNS&&!!ba.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,oa="ontouchstart"in ba.documentElement,Sa,qb,yb={},Yb=0,Xa,Ja,Qb,Mb,hb,Ga,zb="rgba(192,192,192,"+(R?1E-6:.002)+")",sb,tb,ub,Nb,Eb,Ob,jb,Fb,Pb,kb,Gb,Ub,Ta=w.HighchartsAdapter,Ca=Ta||{},E=Ca.each,xb=Ca.grep,nb=Ca.map,na=Ca.merge,cb=Ca.hyphenate,sa=Ca.addEvent,Va=Ca.removeEvent,xa=Ca.fireEvent,Kb=Ca.animate,Hb=Ca.stop,ya={};Ta&&
Ta.init&&Ta.init();if(!Ta&&w.jQuery){var B=jQuery,E=function(a,h){for(var d=0,b=a.length;d<b;d++)if(!1===h.call(a[d],a[d],d,a))return d},xb=B.grep,nb=function(a,h){for(var d=[],b=0,t=a.length;b<t;b++)d[b]=h.call(a[b],a[b],b,a);return d},na=function(){var a=arguments;return B.extend(!0,null,a[0],a[1],a[2],a[3])},cb=function(a){return a.replace(/([A-Z])/g,function(a,d){return"-"+d.toLowerCase()})},sa=function(a,h,d){B(a).bind(h,d)},Va=function(a,h,d){var b=ba.removeEventListener?"removeEventListener":
"detachEvent";ba[b]&&!a[b]&&(a[b]=function(){});B(a).unbind(h,d)},xa=function(a,h,d,q){var t=B.Event(h),A="detached"+h;b(t,d);a[h]&&(a[A]=a[h],a[h]=null);B(a).trigger(t);a[A]&&(a[h]=a[A],a[A]=null);q&&!t.isDefaultPrevented()&&q(t)},Kb=function(a,h,d){var b=B(a);h.d&&(a.toD=h.d,h.d=1);b.stop();b.animate(h,d)},Hb=function(a){B(a).stop()};B.extend(B.easing,{easeOutQuad:function(a,h,d,b,t){return-b*(h/=t)*(h-2)+d}});var Ab=jQuery.fx.step._default,ib=jQuery.fx.prototype.cur;B.fx.step._default=function(a){var h=
a.elem;h.attr?h.attr(a.prop,a.now):Ab.apply(this,arguments)};B.fx.step.d=function(a){var h=a.elem;if(!a.started){var d=hb.init(h,h.d,h.toD);a.start=d[0];a.end=d[1];a.started=!0}h.attr("d",hb.step(a.start,a.end,a.pos,h.toD))};B.fx.prototype.cur=function(){var a=this.elem;return a.attr?a.attr(this.prop):ib.apply(this,arguments)}}hb={init:function(a,h,d){h=h||"";var b=a.shift,t=-1<h.indexOf("C"),A=t?7:3,e;h=h.split(" ");d=[].concat(d);var g,l,I=function(a){for(e=a.length;e--;)"M"==a[e]&&a.splice(e+1,
0,a[e+1],a[e+2],a[e+1],a[e+2])};t&&(I(h),I(d));a.isArea&&(g=h.splice(h.length-6,6),l=d.splice(d.length-6,6));b&&(d=[].concat(d).splice(0,A).concat(d),a.shift=!1);if(h.length)for(a=d.length;h.length<a;)b=[].concat(h).splice(h.length-A,A),t&&(b[A-6]=b[A-2],b[A-5]=b[A-1]),h=h.concat(b);g&&(h=h.concat(g),d=d.concat(l));return[h,d]},step:function(a,h,d,b){var t=[],A=a.length;if(1==d)t=b;else if(A==h.length&&1>d)for(;A--;)b=parseFloat(a[A]),t[A]=isNaN(b)?a[A]:d*parseFloat(h[A]-b)+b;else t=h;return t}};
var $a={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};Ja={colors:"#4572A7 #AA4643 #89A54E #80699B #3D96AE #DB843D #92A8CD #A47D7C #B5CA92".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",resetZoom:"Reset zoom",
resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",
align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:na($a,{enabled:!1,y:-6,formatter:function(){return this.y}}),showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",
color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:!1,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",
position:"relative",top:"1em"},showDuration:100,style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:!0,snap:oa?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:!1,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",
y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var Ra={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:$a,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,
tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},Vb=na(Ra,{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"}}),ha={labels:{align:"right",x:-8,y:null},title:{rotation:270}},ea={labels:{align:"left",x:8,y:null},title:{rotation:90}},
Wb={labels:{align:"center",x:0,y:14},title:{rotation:0}},bc=na(Wb,{labels:{y:-5}}),va=Ja.plotOptions,ab=va.line;va.spline=na(ab);va.scatter=na(ab,{lineWidth:0,states:{hover:{lineWidth:0}}});va.area=na(ab,{});va.areaspline=na(va.area);va.column=na(ab,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}});va.bar=na(va.column,{dataLabels:{align:"left",
x:5,y:0}});va.pie=na(ab,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});Wa();var Qa=function(a){var h=[],d;(function(a){if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(a))h=[e(d[1]),e(d[2]),e(d[3]),parseFloat(d[4],10)];
else if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))h=[e(d[1],16),e(d[2],16),e(d[3],16),1]})(a);return{get:function(d){return h&&!isNaN(h[0])?"rgb"==d?"rgb("+h[0]+","+h[1]+","+h[2]+")":"a"==d?h[3]:"rgba("+h.join(",")+")":a},brighten:function(a){if(m(a)&&0!==a){var d;for(d=0;3>d;d++)h[d]+=e(255*a),0>h[d]&&(h[d]=0),255<h[d]&&(h[d]=255)}return this},setOpacity:function(a){h[3]=a;return this}}};Qb=function(a,h,d){function b(a){return a.toString().replace(/^([0-9])$/,"0$1")}if(!y(h)||
isNaN(h))return"Invalid date";a=s(a,"%Y-%m-%d %H:%M:%S");h=new Date(1*h);var t=h[ub](),A=h[Nb](),e=h[Eb](),g=h[Ob](),l=h[jb](),I=Ja.lang,x=I.weekdays,I=I.months;h={a:x[A].substr(0,3),A:x[A],d:b(e),e:e,b:I[g].substr(0,3),B:I[g],m:b(g+1),y:l.toString().substr(2,2),Y:l,H:b(t),I:b(t%12||12),l:t%12||12,M:b(h[tb]()),p:12>t?"AM":"PM",P:12>t?"am":"pm",S:b(h.getSeconds())};for(var m in h)a=a.replace("%"+m,h[m]);return d?a.substr(0,1).toUpperCase()+a.substr(1):a};M.prototype={init:function(a,h){this.element=
ba.createElementNS("http://www.w3.org/2000/svg",h);this.renderer=a},animate:function(a,h,d){(h=s(h,Mb,!0))?(h=na(h),d&&(h.complete=d),Kb(this,a,h)):(this.attr(a),d&&d())},attr:function(a,h){var d,b,t,A,p=this.element,l=p.nodeName,s=this.renderer,I,x=this.shadows,m,w=this;g(a)&&y(h)&&(d=a,a={},a[d]=h);if(g(a))d=a,"circle"==l?d={x:"cx",y:"cy"}[d]||d:"strokeWidth"==d&&(d="stroke-width"),w=K(p,d)||this[d]||0,"d"!=d&&"visibility"!=d&&(w=parseFloat(w));else for(d in a){I=!1;b=a[d];if("d"==d)b&&b.join&&
(b=b.join(" ")),/(NaN| {2}|^$)/.test(b)&&(b="M 0 0"),this.d=b;else if("x"==d&&"text"==l){for(t=0;t<p.childNodes.length;t++)A=p.childNodes[t],K(A,"x")==K(p,"x")&&K(A,"x",b);this.rotation&&K(p,"transform","rotate("+this.rotation+" "+b+" "+e(a.y||K(p,"y"))+")")}else if("fill"==d)b=s.color(b,p,d);else if("circle"!=l||"x"!=d&&"y"!=d)if("translateX"==d||"translateY"==d||"rotation"==d||"verticalAlign"==d)this[d]=b,this.updateTransform(),I=!0;else if("stroke"==d)b=s.color(b,p,d);else if("dashstyle"==d){if(d=
"stroke-dasharray",b){b=b.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=b.length;t--;)b[t]=e(b[t])*a["stroke-width"];b=b.join(",")}}else"isTracker"==d?this[d]=b:"width"==d?b=e(b):"align"==d&&(d="text-anchor",b={left:"start",center:"middle",right:"end"}[b]);else d={x:"cx",y:"cy"}[d]||d;"strokeWidth"==
d&&(d="stroke-width");Tb&&"stroke-width"==d&&0===b&&(b=1E-6);this.symbolName&&/^(x|y|r|start|end|innerR)/.test(d)&&(m||(this.symbolAttr(a),m=!0),I=!0);if(x&&/^(width|height|visibility|x|y|d)$/.test(d))for(t=x.length;t--;)K(x[t],d,b);"text"==d?(this.textStr=b,this.added&&s.buildText(this)):I||K(p,d,b)}return w},symbolAttr:function(a){this.x=s(a.x,this.x);this.y=s(a.y,this.y);this.r=s(a.r,this.r);this.start=s(a.start,this.start);this.end=s(a.end,this.end);this.width=s(a.width,this.width);this.height=
s(a.height,this.height);this.innerR=s(a.innerR,this.innerR);this.attr({d:this.renderer.symbols[this.symbolName](this.x,this.y,this.r,{start:this.start,end:this.end,width:this.width,height:this.height,innerR:this.innerR})})},clip:function(a){return this.attr("clip-path","url("+this.renderer.url+"#"+a.id+")")},css:function(a){var h=this.element,h=a&&a.width&&"text"==h.nodeName;a&&a.color&&(a.fill=a.color);this.styles=a=b(this.styles,a);Lb&&!R?(h&&delete a.width,Y(this.element,a)):this.attr({style:D(a)});
h&&this.added&&this.renderer.buildText(this);return this},on:function(a,h){var d=h;oa&&"click"==a&&(a="touchstart",d=function(a){a.preventDefault();h()});this.element["on"+a]=d;return this},translate:function(a,h){return this.attr({translateX:a,translateY:h})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,h=this.translateY||0,d=this.inverted,b=this.rotation,t=[];d&&(a+=this.attr("width"),h+=this.attr("height"));(a||h)&&t.push("translate("+
a+","+h+")");d?t.push("rotate(90) scale(-1,1)"):b&&t.push("rotate("+b+" "+this.x+" "+this.y+")");t.length&&K(this.element,"transform",t.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(a,h,d){a?(this.alignOptions=a,this.alignByTranslate=h,d||this.renderer.alignedObjects.push(this)):(a=this.alignOptions,h=this.alignByTranslate);d=s(d,this.renderer);var b=a.align,t=a.verticalAlign,A=(d.x||0)+(a.x||0),e=(d.y||0)+(a.y||0),g={};/^(right|center)$/.test(b)&&
(A+=(d.width-(a.width||0))/{right:1,center:2}[b]);g[h?"translateX":"x"]=A;/^(bottom|middle)$/.test(t)&&(e+=(d.height-(a.height||0))/({bottom:1,middle:2}[t]||1));g[h?"translateY":"y"]=e;this[this.placed?"animate":"attr"](g);this.placed=!0;return this},getBBox:function(){var a,h,d,q=this.rotation,t=q*X;try{a=b({},this.element.getBBox())}catch(A){a={width:0,height:0}}h=a.width;d=a.height;q&&(a.width=U(d*O(t))+U(h*V(t)),a.height=U(d*V(t))+U(h*O(t)));return a},show:function(){return this.attr({visibility:"visible"})},
hide:function(){return this.attr({visibility:"hidden"})},add:function(a){var h=this.renderer,d=a||h,b=d.element||h.box,t=b.childNodes,A=this.element,p=K(A,"zIndex");this.parentInverted=a&&a.inverted;void 0!==this.textStr&&h.buildText(this);p&&(d.handleZ=!0,p=e(p));if(d.handleZ)for(d=0;d<t.length;d++)if(a=t[d],h=K(a,"zIndex"),a!=A&&(e(h)>p||!y(p)&&y(h)))return b.insertBefore(A,a),this;b.appendChild(A);this.added=!0;return this},destroy:function(){var a=this.element||{},h=this.shadows,d=a.parentNode,
b;a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=null;Hb(this);d&&d.removeChild(a);h&&E(h,function(a){(d=a.parentNode)&&d.removeChild(a)});u(this.renderer.alignedObjects,this);for(b in this)delete this[b];return null},empty:function(){for(var a=this.element,h=a.childNodes,d=h.length;d--;)a.removeChild(h[d])},shadow:function(a){var h=[],d,b=this.element,t=this.parentInverted?"(-1,-1)":"(1,1)";if(a){for(a=1;3>=a;a++)d=b.cloneNode(0),K(d,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*
a,"stroke-width":7-2*a,transform:"translate"+t,fill:"none"}),b.parentNode.insertBefore(d,b),h.push(d);this.shadows=h}return this}};var Jb=function(){this.init.apply(this,arguments)};Jb.prototype={init:function(a,h,d,b){var t=location,A;this.Element=M;A=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});a.appendChild(A.element);this.box=A.element;this.boxWrapper=A;this.alignedObjects=[];this.url=Lb?"":t.href.replace(/#.*?$/,"");this.defs=this.createElement("defs").add();
this.forExport=b;this.setSize(h,d,!1)},createElement:function(a){var h=new this.Element;h.init(this,a);return h},buildText:function(a){for(var h=a.element,d=s(a.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br[^>]?>/g),b=h.childNodes,t=/style="([^"]+)"/,A=/href="([^"]+)"/,p=K(h,"x"),g=a.styles,l=pa&&g&&"rtl"==g.HcDirection&&!this.forExport,
I,x=g&&e(g.width),m=g&&g.lineHeight,w,y=b.length;y--;)h.removeChild(b[y]);x&&!a.added&&this.box.appendChild(h);E(d,function(a,d){var b,q=0,g;a=a.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");b=a.split("|||");E(b,function(f){if(""!==f||1==b.length){var a={},n=ba.createElementNS("http://www.w3.org/2000/svg","tspan");t.test(f)&&K(n,"style",f.match(t)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));A.test(f)&&(K(n,"onclick",'location.href="'+f.match(A)[1]+'"'),Y(n,{cursor:"pointer"}));f=
f.replace(/<(.|\n)*?>/g,"")||" ";if(l){I=[];for(y=f.length;y--;)I.push(f.charAt(y));f=I.join("")}n.appendChild(ba.createTextNode(f));q?a.dx=3:a.x=p;q||(d&&(g=e(window.getComputedStyle(w,null).getPropertyValue("line-height")),isNaN(g)&&(g=m||w.offsetHeight||18),K(n,"dy",g)),w=n);K(n,a);h.appendChild(n);q++;if(x){f=f.replace(/-/g,"- ").split(" ");for(var G,J=[];f.length||J.length;)G=h.getBBox().width,(a=G>x)&&1!=f.length?(n.removeChild(n.firstChild),J.unshift(f.pop())):(f=J,J=[],f.length&&(n=ba.createElementNS("http://www.w3.org/2000/svg",
"tspan"),K(n,{x:p,dy:m||16}),h.appendChild(n),G>x&&(x=G))),n.appendChild(ba.createTextNode(f.join(" ").replace(/- /g,"-")))}}})})},crispLine:function(a,h){a[1]==a[4]&&(a[1]=a[4]=F(a[1])+h%2/2);a[2]==a[5]&&(a[2]=a[5]=F(a[2])+h%2/2);return a},path:function(a){return this.createElement("path").attr({d:a,fill:"none"})},circle:function(a,h,d){a=l(a)?a:{x:a,y:h,r:d};return this.createElement("circle").attr(a)},arc:function(a,h,d,b,t,A){l(a)&&(h=a.y,d=a.r,b=a.innerR,t=a.start,A=a.end,a=a.x);return this.symbol("arc",
a||0,h||0,d||0,{innerR:b||0,start:t||0,end:A||0})},rect:function(a,h,d,q,t,A){if(1<arguments.length){var e=(A||0)%2/2;a=F(a||0)+e;h=F(h||0)+e;d=F((d||0)-2*e);q=F((q||0)-2*e)}e=l(a)?a:{x:a,y:h,width:W(d,0),height:W(q,0)};return this.createElement("rect").attr(b(e,{rx:t||e.r,ry:t||e.r,fill:"none"}))},setSize:function(a,h,d){var b=this.alignedObjects,t=b.length;this.width=a;this.height=h;for(this.boxWrapper[s(d,!0)?"animate":"attr"]({width:a,height:h});t--;)b[t].align()},g:function(a){return this.createElement("g").attr(y(a)&&
{"class":"highcharts-"+a})},image:function(a,h,d,q,t){var e={preserveAspectRatio:"none"};1<arguments.length&&b(e,{x:h,y:d,width:q,height:t});e=this.createElement("image").attr(e);e.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a);return e},symbol:function(a,h,d,q,t){var e,g=this.symbols[a],g=g&&g(h,d,q,t),l=/^url\((.*?)\)$/;g?(e=this.path(g),b(e,{symbolName:a,x:h,y:d,r:q}),t&&b(e,t)):l.test(a)?(a=a.match(l)[1],e=this.image(a).attr({x:h,y:d}),la("img",{onload:function(){var a=yb[this.src]||
[this.width,this.height];e.attr({width:a[0],height:a[1]}).translate(-F(a[0]/2),-F(a[1]/2))},src:a})):e=this.circle(h,d,q);return e},symbols:{square:function(a,h,d){d*=.707;return["M",a-d,h-d,"L",a+d,h-d,a+d,h+d,a-d,h+d,"Z"]},triangle:function(a,h,d){return["M",a,h-1.33*d,"L",a+d,h+.67*d,a-d,h+.67*d,"Z"]},"triangle-down":function(a,h,d){return["M",a,h+1.33*d,"L",a-d,h-.67*d,a+d,h-.67*d,"Z"]},diamond:function(a,h,d){return["M",a,h-d,"L",a+d,h,a,h+d,a-d,h,"Z"]},arc:function(a,h,d,b){var t=b.start,e=
b.end-1E-6,g=b.innerR,l=V(t),s=O(t),I=V(e),e=O(e);b=b.end-t<Za?0:1;return["M",a+d*l,h+d*s,"A",d,d,0,b,1,a+d*I,h+d*e,"L",a+g*I,h+g*e,"A",g,g,0,b,0,a+g*l,h+g*s,"Z"]}},clipRect:function(a,h,d,b){var t="highcharts-"+Yb++,e=this.createElement("clipPath").attr({id:t}).add(this.defs);a=this.rect(a,h,d,b,0).add(e);a.id=t;return a},color:function(a,h,d){var b,t=/^rgba/;if(a&&a.linearGradient){var e=this;h=a.linearGradient;d="highcharts-"+Yb++;var g,l,s;g=e.createElement("linearGradient").attr({id:d,gradientUnits:"userSpaceOnUse",
x1:h[0],y1:h[1],x2:h[2],y2:h[3]}).add(e.defs);E(a.stops,function(a){t.test(a[1])?(b=Qa(a[1]),l=b.get("rgb"),s=b.get("a")):(l=a[1],s=1);e.createElement("stop").attr({offset:a[0],"stop-color":l,"stop-opacity":s}).add(g)});return"url("+this.url+"#"+d+")"}return t.test(a)?(b=Qa(a),K(h,d+"-opacity",b.get("a")),b.get("rgb")):a},text:function(a,h,d){var b=Ja.chart.style;h=F(s(h,0));d=F(s(d,0));a=this.createElement("text").attr({x:h,y:d,text:a}).css({"font-family":b.fontFamily,"font-size":b.fontSize});a.x=
h;a.y=d;return a}};var gb;if(!R){var Bb=N(M,{init:function(a,h){var d=["<",h,' filled="f" stroked="f"'],b=["position: ","absolute",";"];"shape"!=h&&"div"!=h||b.push("left:0;top:0;width:10px;height:10px;");Pa&&b.push("visibility: ","div"==h?"hidden":"visible");d.push(' style="',b.join(""),'"/>');h&&(d="div"==h||"span"==h||"img"==h?d.join(""):a.prepVML(d),this.element=la(d));this.renderer=a},add:function(a){var h=this.renderer,b=this.element,q=h.box,q=a?a.element||a:q;a&&a.inverted&&h.invertChild(b,
q);Pa&&"hidden"==q.gVis&&Y(b,{visibility:"hidden"});q.appendChild(b);this.added=!0;this.alignOnAdd&&this.updateTransform();return this},attr:function(a,h){var b,q,t,e=this.element||{},p=e.style,l=e.nodeName,s=this.renderer,I=this.symbolName,x,w,u=this.shadows,z=this;g(a)&&y(h)&&(b=a,a={},a[b]=h);if(g(a))b=a,z="strokeWidth"==b||"stroke-width"==b?this.strokeweight:this[b];else for(b in a){q=a[b];x=!1;if(I&&/^(x|y|r|start|end|width|height|innerR)/.test(b))w||(this.symbolAttr(a),w=!0),x=!0;else if("d"==
b){q=q||[];this.d=q.join(" ");t=q.length;for(x=[];t--;)m(q[t])?x[t]=F(10*q[t])-5:x[t]="Z"==q[t]?"x":q[t];q=x.join(" ")||"x";e.path=q;if(u)for(t=u.length;t--;)u[t].path=q;x=!0}else if("zIndex"==b||"visibility"==b){if(Pa&&"visibility"==b&&"DIV"==l){e.gVis=q;x=e.childNodes;for(t=x.length;t--;)Y(x[t],{visibility:q});"visible"==q&&(q=null)}q&&(p[b]=q);x=!0}else/^(width|height)$/.test(b)?(this.updateClipping?(this[b]=q,this.updateClipping()):p[b]=q,x=!0):/^(x|y)$/.test(b)?(this[b]=q,"SPAN"==e.tagName?this.updateTransform():
p[{x:"left",y:"top"}[b]]=q):"class"==b?e.className=q:"stroke"==b?(q=s.color(q,e,b),b="strokecolor"):"stroke-width"==b||"strokeWidth"==b?(e.stroked=q?!0:!1,b="strokeweight",this[b]=q,m(q)&&(q+="px")):"dashstyle"==b?((e.getElementsByTagName("stroke")[0]||la(s.prepVML(["<stroke/>"]),null,null,e))[b]=q||"solid",this.dashstyle=q,x=!0):"fill"==b?"SPAN"==l?p.color=q:(e.filled="none"!=q?!0:!1,q=s.color(q,e,b),b="fillcolor"):"translateX"==b||"translateY"==b||"rotation"==b||"align"==b?("align"==b&&(b="textAlign"),
this[b]=q,this.updateTransform(),x=!0):"text"==b&&(e.innerHTML=q,x=!0);if(u&&"visibility"==b)for(t=u.length;t--;)u[t].style[b]=q;x||(Pa?e[b]=q:K(e,b,q))}return z},clip:function(a){var b=this,d=a.members;d.push(b);b.destroyClip=function(){u(d,b)};return b.css(a.getCSS(b.inverted))},css:function(a){var h=this.element;if(h=a&&"SPAN"==h.tagName&&a.width)delete a.width,this.textWidth=h,this.updateTransform();this.styles=b(this.styles,a);Y(this.element,a);return this},destroy:function(){this.destroyClip&&
this.destroyClip();M.prototype.destroy.apply(this)},empty:function(){for(var a=this.element.childNodes,b=a.length,d;b--;)d=a[b],d.parentNode.removeChild(d)},getBBox:function(){var a=this.element;"text"==a.nodeName&&(a.style.position="absolute");return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},on:function(a,b){this.element["on"+a]=function(){var a=w.event;a.target=a.srcElement;b(a)};return this},updateTransform:function(a){if(this.added){var b=this,d=b.element,q=b.translateX||
0,t=b.translateY||0;a=b.x||0;var g=b.y||0,p=b.textAlign||"left",l={left:0,center:.5,right:1}[p],s=p&&"left"!=p;(q||t)&&b.css({marginLeft:q,marginTop:t});b.inverted&&E(d.childNodes,function(a){b.renderer.invertChild(a,d)});if("SPAN"==d.tagName){var I,x,q=b.rotation,m;I=0;var t=1,w=0,u;m=e(b.textWidth);var z=b.xCorr||0;u=b.yCorr||0;var B=[q,p,d.innerHTML,b.textWidth].join();B!=b.cTT&&(y(q)&&(I=q*X,t=V(I),w=O(I),Y(d,{filter:q?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-w,", M21=",w,
", M22=",t,", sizingMethod='auto expand')"].join(""):"none"})),I=d.offsetWidth,x=d.offsetHeight,I>m&&(Y(d,{width:m+"px",display:"block",whiteSpace:"normal"}),I=m),m=F(1.2*e(d.style.fontSize||12)),u=0>t*w,z=(0>t&&-I)+w*m*(u?1-l:l),u=(0>w&&-x)-t*m*(q?u?l:1-l:1),s&&(z-=I*l*(0>t?-1:1),q&&(u-=x*l*(0>w?-1:1)),Y(d,{textAlign:p})),b.xCorr=z,b.yCorr=u);Y(d,{left:a+z,top:g+u});b.cTT=B}}else this.alignOnAdd=!0},shadow:function(a){var b=[],d=this.element,q=this.renderer,t,g=d.style,p,l=d.path;""===""+d.path&&
(l="x");if(a){for(a=1;3>=a;a++)p=['<shape isShadow="true" strokeweight="',7-2*a,'" filled="false" path="',l,'" coordsize="100,100" style="',d.style.cssText,'" />'],t=la(q.prepVML(p),null,{left:e(g.left)+1,top:e(g.top)+1}),p=['<stroke color="black" opacity="',.05*a,'"/>'],la(q.prepVML(p),null,null,t),d.parentNode.insertBefore(t,d),b.push(t);this.shadows=b}return this}});gb=function(){this.init.apply(this,arguments)};gb.prototype=na(Jb.prototype,{isIE8:-1<Ba.indexOf("MSIE 8.0"),init:function(a,b,d){var q;
this.Element=Bb;this.alignedObjects=[];q=this.createElement("div");a.appendChild(q.element);this.box=q.element;this.boxWrapper=q;this.setSize(b,d,!1);ba.namespaces.hcv||(ba.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),ba.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},clipRect:function(a,h,d,q){var e=this.createElement();return b(e,{members:[],left:a,top:h,width:d,height:q,getCSS:function(a){var h=this.top,
d=this.left,q=d+this.width,e=h+this.height,h={clip:"rect("+F(a?d:h)+"px,"+F(a?e:q)+"px,"+F(a?q:e)+"px,"+F(a?h:d)+"px)"};!a&&Pa&&b(h,{width:q+"px",height:e+"px"});return h},updateClipping:function(){E(e.members,function(a){a.css(e.getCSS(a.inverted))})}})},color:function(a,b,d){var q,e=/^rgba/;if(a&&a.linearGradient){var g,p,l=a.linearGradient,s,I,x,m;E(a.stops,function(a,b){e.test(a[1])?(q=Qa(a[1]),g=q.get("rgb"),p=q.get("a")):(g=a[1],p=1);b?(x=g,m=p):(s=g,I=p)});a=90-180*qa.atan((l[3]-l[1])/(l[2]-
l[0]))/Za;d=["<",d,' colors="0% ',s,",100% ",x,'" angle="',a,'" opacity="',m,'" o:opacity2="',I,'" type="gradient" focus="100%" />'];la(this.prepVML(d),null,null,b)}else return e.test(a)&&"IMG"!=b.tagName?(q=Qa(a),d=["<",d,' opacity="',q.get("a"),'"/>'],la(this.prepVML(d),null,null,b),q.get("rgb")):a},prepVML:function(a){var b=this.isIE8;a=a.join("");b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1==a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):
a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a},text:function(a,b,d){var q=Ja.chart.style;return this.createElement("span").attr({text:a,x:F(b),y:F(d)}).css({whiteSpace:"nowrap",fontFamily:q.fontFamily,fontSize:q.fontSize})},path:function(a){return this.createElement("shape").attr({coordsize:"100 100",d:a})},circle:function(a,b,d){return this.path(this.symbols.circle(a,b,d))},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+
a});return this.createElement("div").attr(b)},image:function(a,b,d,q,e){var g=this.createElement("img").attr({src:a});1<arguments.length&&g.css({left:b,top:d,width:q,height:e});return g},rect:function(a,b,d,q,e,g){if(1<arguments.length){var p=(g||0)%2/2;a=F(a||0)+p;b=F(b||0)+p;d=F((d||0)-2*p);q=F((q||0)-2*p)}l(a)&&(b=a.y,d=a.width,q=a.height,e=a.r,a=a.x);return this.symbol("rect",a||0,b||0,e||0,{width:d||0,height:q||0})},invertChild:function(a,b){var d=b.style;Y(a,{flip:"x",left:e(d.width)-10,top:e(d.height)-
10,rotation:-90})},symbols:{arc:function(a,b,d,q){var e=q.start,g=q.end,p=V(e),l=O(e),s=V(g),m=O(g);q=q.innerR;var x=.07/d,w=q&&.1/q||0;if(0===g-e)return["x"];2*Za-g+e<x?s=-x:g-e<w&&(s=V(e+w));return["wa",a-d,b-d,a+d,b+d,a+d*p,b+d*l,a+d*s,b+d*m,"at",a-q,b-q,a+q,b+q,a+q*s,b+q*m,a+q*p,b+q*l,"x","e"]},circle:function(a,b,d){return["wa",a-d,b-d,a+d,b+d,a+d,b,a+d,b,"e"]},rect:function(a,b,d,q){var e=q.width;q=q.height;var g=a+e,p=b+q;d=Z(d,e,q);return["M",a+d,b,"L",g-d,b,"wa",g-2*d,b,g,b+2*d,g-d,b,g,b+
d,"L",g,p-d,"wa",g-2*d,p-2*d,g,p,g,p-d,g-d,p,"L",a+d,p,"wa",a,p-2*d,a+2*d,p,a+d,p,a,p-d,"L",a,b+d,"wa",a,b,a+2*d,b+2*d,a,b+d,a+d,b,"x","e"]}}})}var Zb=R?Jb:gb;lb.prototype.callbacks=[];var Ua=function(){};Ua.prototype={init:function(a,b){var d;this.series=a;this.applyOptions(b);this.pointAttr={};a.options.colorByPoint&&(d=a.chart.options.colors,this.options||(this.options={}),this.color=this.options.color=this.color||d[Sa++],Sa>=d.length&&(Sa=0));a.chart.pointCount++;return this},applyOptions:function(a){var h=
this.series;this.config=a;m(a)||null===a?this.y=a:l(a)&&!m(a.length)?(b(this,a),this.options=a):g(a[0])?(this.name=a[0],this.y=a[1]):m(a[0])&&(this.x=a[0],this.y=a[1]);this.lat=a[2];this.lon=a[3];this.x===Ga&&(this.x=h.autoIncrement())},destroy:function(){var a=this,b=a.series,d;b.chart.pointCount--;if(a==b.chart.hoverPoint)a.onMouseOut();b.chart.hoverPoints=null;Va(a);E(["graphic","tracker","group","dataLabel","connector"],function(b){a[b]&&a[b].destroy()});a.legendItem&&a.series.chart.legend.destroyItem(a);
for(d in a)a[d]=null},select:function(a,b){var d=this,q=d.series.chart;d.selected=a=s(a,!d.selected);d.firePointEvent(a?"select":"unselect");d.setState(a&&"select");b||E(q.getSelectedPoints(),function(a){a.selected&&a!=d&&(a.selected=!1,a.setState(""),a.firePointEvent("unselect"))})},onMouseOver:function(){var a=this.series.chart,b=a.tooltip,d=a.hoverPoint;if(d&&d!=this)d.onMouseOut();this.firePointEvent("mouseOver");b&&!b.shared&&b.refresh(this);this.setState("hover");a.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");
this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(a){var b=this.series;return['<span style="color:'+b.color+'">',this.name||b.name,"</span>: ",a?"":"<b>x = "+(this.name||this.x)+",</b> ","<b>",a?"":"y = ",this.y,"</b><br/>"].join("")},getDataLabelText:function(){return this.series.options.dataLabels.formatter.call({x:this.x,y:this.y,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal})},update:function(a,b,d){var q=this,e=q.series,
g=q.dataLabel,p=e.chart;b=s(b,!0);q.firePointEvent("update",{options:a},function(){q.applyOptions(a);g&&g.attr({text:q.getDataLabelText()});l(a)&&(e.getAttribs(),q.graphic.attr(q.pointAttr[e.state]));e.isDirty=!0;b&&p.redraw(d)})},remove:function(a,b){var d=this,e=d.series,g=e.chart,A=e.data;db(b,g);a=s(a,!0);d.firePointEvent("remove",null,function(){u(A,d);d.destroy();e.isDirty=!0;a&&g.redraw()})},firePointEvent:function(a,b,d){var e=this,g=this.series.options;(g.point.events[a]||e.options&&e.options.events&&
e.options.events[a])&&this.importEvents();"click"==a&&g.allowPointSelect&&(d=function(a){e.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});xa(this,a,b,d)},importEvents:function(){if(!this.hasImportedEvents){var a=na(this.series.options.point,this.options).events,b;this.events=a;for(b in a)sa(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a){var b=this.series,d=b.options.states,e=va[b.type].marker&&b.options.marker,g=e&&!e.enabled,A=(e=e&&e.states[a])&&!1===e.enabled,p=b.stateMarkerGraphic,
l=b.chart,s=this.pointAttr;a||(a="");if(!(a==this.state||this.selected&&"select"!=a||d[a]&&!1===d[a].enabled||a&&(A||g&&!e.enabled))){if(this.graphic)this.graphic.attr(s[a]);else if(a&&(p||(b.stateMarkerGraphic=p=l.renderer.circle(0,0,s[a].r).attr(s[a]).add(b.group)),p.translate(this.plotX,this.plotY)),p)p[a?"show":"hide"]();this.state=a}}};var ca=function(){};ca.prototype={isCartesian:!0,type:"line",pointClass:Ua,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",
r:"radius"},init:function(a,h){var d,e;e=a.series.length;this.chart=a;h=this.setOptions(h);b(this,{index:e,options:h,name:h.name||"Series "+(e+1),state:"",pointAttr:{},visible:!1!==h.visible,selected:!0===h.selected});e=h.events;for(d in e)sa(this,d,e[d]);if(e&&e.click||h.point&&h.point.events&&h.point.events.click||h.allowPointSelect)a.runTrackerClick=!0;this.getColor();this.getSymbol();this.setData(h.data,!1)},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=s(b,a.pointStart,0);this.pointInterval=
s(this.pointInterval,a.pointInterval,1);this.xIncrement=b+this.pointInterval;return b},cleanData:function(){var a=this.chart,b=this.data,d,e,g=a.smallestInterval,A,p;b.sort(function(a,b){return a.x-b.x});for(p=b.length-1;0<=p;p--)b[p-1]&&b[p-1].x==b[p].x&&b.splice(p-1,1);for(p=b.length-1;0<=p;p--)b[p-1]&&(A=b[p].x-b[p-1].x,e===Ga||A<e)&&(e=A,d=p);if(g===Ga||e<g)a.smallestInterval=e;this.closestPoints=d},getSegments:function(){var a=-1,b=[],d=this.data;E(d,function(e,g){null===e.y?(g>a+1&&b.push(d.slice(a+
1,g)),a=g):g==d.length-1&&b.push(d.slice(a+1,g+1))});this.segments=b},setOptions:function(a){var b=this.chart.options.plotOptions;return na(b[this.type],b.series,a)},getColor:function(){var a=this.chart.options.colors;this.color=this.options.color||a[Sa++]||"#0000ff";Sa>=a.length&&(Sa=0)},getSymbol:function(){var a=this.chart.options.symbols;this.symbol=this.options.marker.symbol||a[qb++];qb>=a.length&&(qb=0)},addPoint:function(a,b,d,e){var g=this.data,A=this.graph,p=this.area,l=this.chart;a=(new this.pointClass).init(this,
a);db(e,l);A&&d&&(A.shift=d);p&&(p.shift=d,p.isArea=!0);b=s(b,!0);g.push(a);d&&g[0].remove(!1);this.isDirty=!0;b&&l.redraw()},setData:function(a,b){var d=this,e=d.data,g=d.initialColor,l=d.chart,p=e&&e.length||0;d.xIncrement=null;y(g)&&(Sa=g);for(a=nb(z(a||[]),function(a){return(new d.pointClass).init(d,a)});p--;)e[p].destroy();d.data=a;d.cleanData();d.getSegments();d.isDirty=!0;l.isDirtyBox=!0;s(b,!0)&&l.redraw(!1)},remove:function(a,b){var d=this,e=d.chart;a=s(a,!0);d.isRemoving||(d.isRemoving=
!0,xa(d,"remove",null,function(){d.destroy();e.isDirtyLegend=e.isDirtyBox=!0;a&&e.redraw(b)}));d.isRemoving=!1},translate:function(){for(var a=this.chart,b=this.options.stacking,d=this.xAxis.categories,e=this.yAxis,g=this.data,l=g.length;l--;){var p=g[l],s=p.x,m=p.y,I=p.low,x=e.stacks[(0>m?"-":"")+this.stackKey];p.plotX=this.xAxis.translate(s);b&&this.visible&&x[s]&&(I=x[s],s=I.total,I.cum=I=I.cum-m,m=I+m,"percent"==b&&(I=s?100*I/s:0,m=s?100*m/s:0),p.percentage=s?100*p.y/s:0,p.stackTotal=s);y(I)&&
(p.yBottom=e.translate(I,0,1));null!==m&&(p.plotY=e.translate(m,0,1));p.clientX=a.inverted?a.plotHeight-p.plotX:p.plotX;p.category=d&&d[p.x]!==Ga?d[p.x]:p.x}},setTooltipPoints:function(a){var b=this.chart,d=b.inverted,e=[],g=F((d?b.plotTop:b.plotLeft)+b.plotSizeX),l,p,s=[];a&&(this.tooltipPoints=null);E(this.segments,function(a){e=e.concat(a)});this.xAxis&&this.xAxis.reversed&&(e=e.reverse());E(e,function(a,b){l=e[b-1]?e[b-1].high+1:0;for(p=a.high=e[b+1]?ta((a.plotX+(e[b+1]?e[b+1].plotX:g))/2):g;l<=
p;)s[d?g-l++:l++]=a});this.tooltipPoints=s},onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(oa||!a.mouseIsDown){if(b&&b!=this)b.onMouseOut();this.options.events.mouseOver&&xa(this,"mouseOver");this.tracker&&this.tracker.toFront();this.setState("hover");a.hoverSeries=this}},onMouseOut:function(){var a=this.options,b=this.chart,d=b.tooltip,e=b.hoverPoint;if(e)e.onMouseOut();this&&a.events.mouseOut&&xa(this,"mouseOut");d&&!a.stickyTracking&&d.hide();this.setState();b.hoverSeries=null},animate:function(a){var b=
this.chart,d=this.clipRect,e=this.options.animation;e&&!l(e)&&(e={});a?d.isAnimating||(d.attr("width",0),d.isAnimating=!0):(d.animate({width:b.plotSizeX},e),this.animate=null)},drawPoints:function(){var a,b=this.data,d=this.chart,e,g,l,p,m,w;if(this.options.marker.enabled)for(l=b.length;l--;)p=b[l],e=p.plotX,g=p.plotY,w=p.graphic,g===Ga||isNaN(g)||(a=p.pointAttr[p.selected?"select":""],m=a.r,w?w.animate({x:e,y:g,r:m}):p.graphic=d.renderer.symbol(s(p.marker&&p.marker.symbol,this.symbol),e,g,m).attr(a).add(this.group))},
convertAttribs:function(a,b,d,e){var g=this.pointAttrToOptions,l,p,m={};a=a||{};b=b||{};d=d||{};e=e||{};for(l in g)p=g[l],m[l]=s(a[p],b[l],d[l],e[l]);return m},getAttribs:function(){var a=this,b=va[a.type].marker?a.options.marker:a.options,d=b.states,e=d.hover,g,l=a.color,p={stroke:l,fill:l},s=a.data,m=[],w,x=a.pointAttrToOptions;a.options.marker?(e.radius=e.radius||b.radius+2,e.lineWidth=e.lineWidth||b.lineWidth+1):e.color=e.color||Qa(e.color||l).brighten(e.brightness).get();m[""]=a.convertAttribs(b,
p);E(["hover","select"],function(b){m[b]=a.convertAttribs(d[b],m[""])});a.pointAttr=m;for(l=s.length;l--;){p=s[l];(b=p.options&&p.options.marker||p.options)&&!1===b.enabled&&(b.radius=0);g=!1;if(p.options)for(var u in x)y(b[x[u]])&&(g=!0);g?(w=[],d=b.states||{},g=d.hover=d.hover||{},a.options.marker||(g.color=Qa(g.color||p.options.color).brighten(g.brightness||e.brightness).get()),w[""]=a.convertAttribs(b,m[""]),w.hover=a.convertAttribs(d.hover,m.hover,w[""]),w.select=a.convertAttribs(d.select,m.select,
w[""])):w=m;p.pointAttr=w}},destroy:function(){var a=this,b=a.chart,d=/\/5[0-9\.]+ Safari\//.test(Ba),e,g;Va(a);a.legendItem&&a.chart.legend.destroyItem(a);E(a.data,function(a){a.destroy()});E(["area","graph","dataLabelsGroup","group","tracker"],function(b){a[b]&&(e=d&&"group"==b?"hide":"destroy",a[b][e]())});b.hoverSeries==a&&(b.hoverSeries=null);u(b.series,a);for(g in a)delete a[g]},drawDataLabels:function(){if(this.options.dataLabels.enabled){var a,b,d=this.data,e=this.options.dataLabels,g,l=this.dataLabelsGroup,
p=this.chart,m=p.inverted,w=this.type,I;l||(l=this.dataLabelsGroup=p.renderer.g("highcharts-data-labels").attr({visibility:this.visible?"visible":"hidden",zIndex:5}).translate(p.plotLeft,p.plotTop).add());I=e.color;"auto"==I&&(I=null);e.style.color=s(I,this.color);E(d,function(d,I){var u=d.barX,u=u&&u+d.barW/2||d.plotX||-999,z=s(d.plotY,-999),E=d.dataLabel,B=e.align;g=d.getDataLabelText();a=(m?p.plotWidth-z:u)+e.x;b=(m?p.plotHeight-u:z)+e.y;"column"==w&&(a+={left:-1,right:1}[B]*d.barW/2||0);E?E.animate({x:a,
y:b}):y(g)&&(E=d.dataLabel=p.renderer.text(g,a,b).attr({align:B,rotation:e.rotation,zIndex:1}).css(e.style).add(l));m&&!e.y&&E.attr({y:b+.9*parseInt(E.styles.lineHeight)-E.getBBox().height/2})})}},drawGraph:function(a){var b=this,d=b.options,e=b.graph,g=[],l,p=b.area;a=b.group;var m=d.lineColor||b.color,w=d.lineWidth,I=d.dashStyle,x,y=b.chart.renderer,u=b.yAxis.getThreshold(d.threshold||0),z=/^area/.test(b.type),B=[],F=[];E(b.segments,function(a){x=[];E(a,function(f,n){b.getPointSpline?x.push.apply(x,
b.getPointSpline(a,f,n)):(x.push(n?"L":"M"),n&&d.step&&x.push(f.plotX,a[n-1].plotY),x.push(f.plotX,f.plotY))});1<a.length?g=g.concat(x):B.push(a[0]);if(z){var e=[],q,f=x.length;for(q=0;q<f;q++)e.push(x[q]);3==f&&e.push("L",x[1],x[2]);if(d.stacking&&"areaspline"!=b.type)for(q=a.length-1;0<=q;q--)e.push(a[q].plotX,a[q].yBottom);else e.push("L",a[a.length-1].plotX,u,"L",a[0].plotX,u);F=F.concat(e)}});b.graphPath=g;b.singlePoints=B;z&&(l=s(d.fillColor,Qa(b.color).setOpacity(d.fillOpacity||.75).get()),
p?p.animate({d:F}):b.area=b.chart.renderer.path(F).attr({fill:l}).add(a));e?e.animate({d:g}):w&&(e={stroke:m,"stroke-width":w},I&&(e.dashstyle=I),b.graph=y.path(g).attr(e).add(a).shadow(d.shadow))},render:function(){var a=this,b=a.chart,d,e,g=a.options,l=g.animation,p=l&&a.animate,l=p?l&&l.duration||500:0,s=a.clipRect;e=b.renderer;s||(s=a.clipRect=!b.hasRendered&&b.clipRect?b.clipRect:e.clipRect(0,0,b.plotSizeX,b.plotSizeY),b.clipRect||(b.clipRect=s));a.group||(d=a.group=e.g("series"),b.inverted&&
(e=function(){d.attr({width:b.plotWidth,height:b.plotHeight}).invert()},e(),sa(b,"resize",e)),d.clip(a.clipRect).attr({visibility:a.visible?"visible":"hidden",zIndex:g.zIndex}).translate(b.plotLeft,b.plotTop).add(b.seriesGroup));a.drawDataLabels();p&&a.animate(!0);a.getAttribs();a.drawGraph&&a.drawGraph();a.drawPoints();!1!==a.options.enableMouseTracking&&a.drawTracker();p&&a.animate();setTimeout(function(){s.isAnimating=!1;(d=a.group)&&s!=b.clipRect&&s.renderer&&(d.clip(a.clipRect=b.clipRect),s.destroy())},
l);a.isDirty=!1},redraw:function(){var a=this.chart,b=this.group;b&&(a.inverted&&b.attr({width:a.plotWidth,height:a.plotHeight}),b.animate({translateX:a.plotLeft,translateY:a.plotTop}));this.translate();this.setTooltipPoints(!0);this.render()},setState:function(a){var b=this.options,d=this.graph,e=b.states,b=b.lineWidth;a=a||"";this.state!=a&&(this.state=a,e[a]&&!1===e[a].enabled||(a&&(b=e[a].lineWidth||b+1),d&&!d.dashstyle&&d.attr({"stroke-width":b},a?0:500)))},setVisible:function(a,b){var d=this.chart,
e=this.legendItem,g=this.group,l=this.tracker,p=this.dataLabelsGroup,s,m=this.data,w=d.options.chart.ignoreHiddenSeries;s=this.visible;s=(this.visible=a=a===Ga?!s:a)?"show":"hide";if(g)g[s]();if(l)l[s]();else for(g=m.length;g--;)if(l=m[g],l.tracker)l.tracker[s]();if(p)p[s]();e&&d.legend.colorizeItem(this,a);this.isDirty=!0;this.options.stacking&&E(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});w&&(d.isDirtyBox=!0);!1!==b&&d.redraw();xa(this,s)},show:function(){this.setVisible(!0)},
hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===Ga?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);xa(this,a?"select":"unselect")},drawTracker:function(){var a=this,b=a.options,d=[].concat(a.graphPath),e=d.length,g=a.chart,l=g.options.tooltip.snap,p=a.tracker,s=b.cursor,s=s&&{cursor:s},m=a.singlePoints,w;if(e)for(w=e+1;w--;)"M"==d[w]&&d.splice(w+1,0,d[w+1]-l,d[w+2],"L"),(w&&"M"==d[w]||w==e)&&d.splice(w,0,"L",d[w-2]+l,d[w-1]);for(w=0;w<m.length;w++)e=m[w],d.push("M",
e.plotX-l,e.plotY,"L",e.plotX+l,e.plotY);p?p.attr({d:d}):a.tracker=g.renderer.path(d).attr({isTracker:!0,stroke:zb,fill:"none","stroke-width":b.lineWidth+2*l,visibility:a.visible?"visible":"hidden",zIndex:1}).on(oa?"touchstart":"mouseover",function(){if(g.hoverSeries!=a)a.onMouseOver()}).on("mouseout",function(){if(!b.stickyTracking)a.onMouseOut()}).css(s).add(g.trackerGroup)}};var ac=N(ca);ya.line=ac;var bb=N(ca,{type:"area"});ya.area=bb;var Cb=N(ca,{type:"spline",getPointSpline:function(a,b,d){var e=
b.plotX,g=b.plotY,l=a[d-1],p=a[d+1],s,m,w,x;if(d&&d<a.length-1){a=l.plotY;w=p.plotX;var p=p.plotY,y;s=(1.5*e+l.plotX)/2.5;m=(1.5*g+a)/2.5;w=(1.5*e+w)/2.5;x=(1.5*g+p)/2.5;y=(x-m)*(w-e)/(w-s)+g-x;m+=y;x+=y;m>a&&m>g?(m=W(a,g),x=2*g-m):m<a&&m<g&&(m=Z(a,g),x=2*g-m);x>p&&x>g?(x=W(p,g),m=2*g-x):x<p&&x<g&&(x=Z(p,g),m=2*g-x);b.rightContX=w;b.rightContY=x}d?(b=["C",l.rightContX||l.plotX,l.rightContY||l.plotY,s||e,m||g,e,g],l.rightContX=l.rightContY=null):b=["M",e,g];return b}});ya.spline=Cb;var Da=N(Cb,{type:"areaspline"});
ya.areaspline=Da;var rb=N(ca,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){ca.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasColumn=!0;b.hasRendered&&E(b.series,function(b){b.type==a.type&&(b.isDirty=!0)})},translate:function(){var a=this,e=a.chart,d=0,g=a.xAxis.reversed,l=a.xAxis.categories,m={},p,w;ca.prototype.translate.apply(a);E(e.series,function(b){b.type==a.type&&(b.options.stacking?(p=b.stackKey,
m[p]===Ga&&(m[p]=d++),w=m[p]):w=d++,b.columnIndex=w)});var u=a.options,z=a.data,x=a.closestPoints,e=U(z[1]?z[x].plotX-z[x-1].plotX:e.plotSizeX/(l?l.length:1)),l=e*u.groupPadding,x=(e-2*l)/d,B=u.pointWidth,F=y(B)?(x-B)/2:x*u.pointPadding,D=W(s(B,x-2*F),1),K=F+(l+((g?d-a.columnIndex:a.columnIndex)||0)*x-e/2)*(g?-1:1),N=a.yAxis.getThreshold(u.threshold||0),L=s(u.minPointLength,5);E(z,function(a){var d=a.plotY,f=a.yBottom||N,v=a.plotX+K,n=Na(Z(d,f)),G=Na(W(d,f)-n),e;U(G)<L&&(L&&(G=L,n=U(n-N)>L?f-L:N-
(d<=N?L:0)),e=n-3);b(a,{barX:v,barY:n,barW:D,barH:G});a.shapeType="rect";a.shapeArgs={x:v,y:n,width:D,height:G,r:u.borderRadius};a.trackerArgs=y(e)&&na(a.shapeArgs,{height:W(6,G+3),y:e})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var a=this,b=a.options,d=a.chart.renderer,e,g;E(a.data,function(l){var p=l.plotY;p===Ga||isNaN(p)||(e=l.graphic,g=l.shapeArgs,e?(Hb(e),e.animate(g)):l.graphic=d[l.shapeType](g).attr(l.pointAttr[l.selected?"select":""]).add(a.group).shadow(b.shadow))})},
drawTracker:function(){var a=this,b=a.chart,d=b.renderer,e,g,l=+new Date,p=a.options.cursor,s=p&&{cursor:p},m;E(a.data,function(p){g=p.tracker;e=p.trackerArgs||p.shapeArgs;null!==p.y&&(g?g.attr(e):p.tracker=d[p.shapeType](e).attr({isTracker:l,fill:zb,visibility:a.visible?"visible":"hidden",zIndex:1}).on(oa?"touchstart":"mouseover",function(d){m=d.relatedTarget||d.fromElement;if(b.hoverSeries!=a&&K(m,"isTracker")!=l)a.onMouseOver();p.onMouseOver()}).on("mouseout",function(b){if(!a.options.stickyTracking&&
(m=b.relatedTarget||b.toElement,K(m,"isTracker")!=l))a.onMouseOut()}).css(s).add(b.trackerGroup))})},animate:function(a){var b=this,d=b.data;a||(E(d,function(a){var d=a.graphic;d&&(d.attr({height:0,y:b.yAxis.translate(0,0,1)}),d.animate({height:a.barH,y:a.barY},b.options.animation))}),b.animate=null)},remove:function(){var a=this,b=a.chart;b.hasRendered&&E(b.series,function(b){b.type==a.type&&(b.isDirty=!0)});ca.prototype.remove.apply(a,arguments)}});ya.column=rb;var Db=N(rb,{type:"bar",init:function(a){a.inverted=
this.inverted=!0;rb.prototype.init.apply(this,arguments)}});ya.bar=Db;var dc=N(ca,{type:"scatter",translate:function(){var a=this;ca.prototype.translate.apply(a);E(a.data,function(b){b.shapeType="circle";b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltip.snap}})},drawTracker:function(){var a=this,b=a.options.cursor,d=b&&{cursor:b},e;E(a.data,function(b){(e=b.graphic)&&e.attr({isTracker:!0}).on("mouseover",function(d){a.onMouseOver();b.onMouseOver()}).on("mouseout",function(b){if(!a.options.stickyTracking)a.onMouseOut()}).css(d)})},
cleanData:function(){}});ya.scatter=dc;var ec=N(Ua,{init:function(){Ua.prototype.init.apply(this,arguments);var a=this,e;b(a,{visible:!1!==a.visible,name:s(a.name,"Slice")});e=function(){a.slice()};sa(a,"select",e);sa(a,"unselect",e);return a},setVisible:function(a){var b=this.series.chart,d=this.tracker,e=this.dataLabel,g=this.connector,l;l=(this.visible=a=a===Ga?!this.visible:a)?"show":"hide";this.group[l]();if(d)d[l]();if(e)e[l]();if(g)g[l]();this.legendItem&&b.legend.colorizeItem(this,a)},slice:function(a,
b,d){var e=this.series.chart,g=this.slicedTranslation;db(d,e);s(b,!0);a=this.sliced=y(a)?a:!this.sliced;this.group.animate({translateX:a?g[0]:e.plotLeft,translateY:a?g[1]:e.plotTop})}}),fc=N(ca,{type:"pie",isCartesian:!1,pointClass:ec,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=Sa},animate:function(a){var b=this;E(b.data,function(a){var e=a.graphic;a=a.shapeArgs;var g=-Za/2;e&&(e.attr({r:0,start:g,end:g}),e.animate({r:a.r,
start:a.start,end:a.end},b.options.animation))});b.animate=null},translate:function(){var a=0,b=-.25,d=this.options,g=d.slicedOffset,l=g+d.borderWidth,s=d.center,p=this.chart,m=p.plotWidth,w=p.plotHeight,y,x,u,z=this.data,B=2*Za,D,N=Z(m,w),L,K,M,f=d.dataLabels.distance;s.push(d.size,d.innerSize||0);s=nb(s,function(f,a){return(L=/%$/.test(f))?[m,w,N,N][a]*e(f)/100:f});this.getX=function(a,b){u=qa.asin((a-s[1])/(s[2]/2+f));return s[0]+(b?-1:1)*V(u)*(s[2]/2+f)};this.center=s;E(z,function(f){a+=f.y});
E(z,function(v){D=a?v.y/a:0;y=F(b*B*1E3)/1E3;b+=D;x=F(b*B*1E3)/1E3;v.shapeType="arc";v.shapeArgs={x:s[0],y:s[1],r:s[2]/2,innerR:s[3]/2,start:y,end:x};u=(x+y)/2;v.slicedTranslation=nb([V(u)*g+p.plotLeft,O(u)*g+p.plotTop],F);K=V(u)*s[2]/2;M=O(u)*s[2]/2;v.tooltipPos=[s[0]+.7*K,s[1]+.7*M];v.labelPos=[s[0]+K+V(u)*f,s[1]+M+O(u)*f,s[0]+K+V(u)*l,s[1]+M+O(u)*l,s[0]+K,s[1]+M,0>f?"center":u<B/4?"left":"right",u];v.percentage=100*D;v.total=a});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();
!1!==this.options.enableMouseTracking&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=!1},drawPoints:function(){var a=this.chart,e=a.renderer,d,g,l,s;E(this.data,function(p){g=p.graphic;s=p.shapeArgs;l=p.group;l||(l=p.group=e.g("point").attr({zIndex:5}).add());d=p.sliced?p.slicedTranslation:[a.plotLeft,a.plotTop];l.translate(d[0],d[1]);g?g.animate(s):p.graphic=e.arc(s).attr(b(p.pointAttr[""],{"stroke-linejoin":"round"})).add(p.group);!1===
p.visible&&p.setVisible(!1)})},drawDataLabels:function(){var a=this.data,b,d=this.chart,e=this.options.dataLabels,g=s(e.connectorPadding,10),l=s(e.connectorWidth,1),p,m,w=0<e.distance,u,y,z=this.center[1],B=[[],[],[],[]],F,D,K,L,N,M,f,v=4,n;ca.prototype.drawDataLabels.apply(this);E(a,function(f){var a=f.labelPos[7];B[0>a?0:a<Za/2?1:a<Za?2:3].push(f)});B[1].reverse();B[3].reverse();for(f=function(f,a){return f.y>a.y};v--;){a=0;b=[].concat(B[v]);b.sort(f);for(n=b.length;n--;)b[n].rank=n;for(L=0;2>L;L++)for(y=
(M=v%3)?9999:-9999,N=M?-1:1,n=0;n<B[v].length;n++)if(b=B[v][n],p=b.dataLabel){m=b.labelPos;K="visible";F=m[0];D=m[1];u||(u=p&&p.getBBox().height);if(w)if(L&&b.rank<a)K="hidden";else if(!M&&D<y+u||M&&D>y-u)if(D=y+N*u,F=this.getX(D,1<v),!M&&D+u>z||M&&D-u<z)L?K="hidden":a++;!1===b.visible&&(K="hidden");"visible"==K&&(y=D);L&&(p.attr({visibility:K,align:m[6]})[p.moved?"animate":"attr"]({x:F+e.x+({left:g,right:-g}[m[6]]||0),y:D+e.y}),p.moved=!0,w&&l&&(p=b.connector,m=["M",F+("left"==m[6]?5:-5),D,"L",F,
D,"L",m[2],m[3],"L",m[4],m[5]],p?(p.animate({d:m}),p.attr("visibility",K)):b.connector=p=this.chart.renderer.path(m).attr({"stroke-width":l,stroke:e.connectorColor||"#606060",visibility:K,zIndex:3}).translate(d.plotLeft,d.plotTop).add()))}}},drawTracker:rb.prototype.drawTracker,getSymbol:function(){}});ya.pie=fc;w.Highcharts={Chart:lb,dateFormat:Qb,pathAnim:hb,getOptions:function(){return Ja},numberFormat:eb,Point:Ua,Color:Qa,Renderer:Zb,seriesTypes:ya,setOptions:function(a){Ja=na(Ja,a);Wa();return Ja},
Series:ca,addEvent:sa,createElement:la,discardElement:fa,css:Y,each:E,extend:b,map:nb,merge:na,pick:s,extendClass:N,version:"2.1.3"}})();
(function(){function b(){if(b.is(arguments[0],O)){for(var f=arguments[0],a=gb[N](b,f.splice(0,3+b.is(f[0],V))),n=a.set(),d=0,e=f[w];d<e;d++){var k=f[d]||{};K[s](k.type)&&n[X](a[k.type]().attr(k))}return n}return gb[N](b,arguments)}function e(){for(var f=[],a=0;32>a;a++)f[a]=(~~(16*F.random())).toString(16);f[12]=4;f[16]=(f[16]&3|8).toString(16);return"r-"+f.join("")}function g(f,a,b){function d(){var e=Array.prototype.slice.call(arguments,0),k=e.join("\u25ba"),g=d.cache=d.cache||{},h=d.count=d.count||
[];if(g[s](k))return b?b(g[k]):g[k];1E3<=h[w]&&delete g[h.shift()];h[X](k);g[k]=f[N](a,e);return b?b(g[k]):g[k]}return d}function l(){return this.x+" "+this.y}function m(f){return function(a,n,d,e){var k={back:f};b.is(d,"function")?e=d:k.rot=d;a&&a.constructor==ha&&(a=a.attrs.path);a&&(k.along=a);return this.animate(k,n,e)}}function u(f,a,b,d,e,k){function g(f,a){var b,v,n,d;n=f;for(v=0;8>v;v++){d=((r*n+C)*n+h)*n-f;if(W(d)<a)return n;b=(3*r*n+2*C)*n+h;if(1E-6>W(b))break;n-=d/b}b=0;v=1;n=f;if(n<b)return b;
if(n>v)return v;for(;b<v;){d=((r*n+C)*n+h)*n;if(W(d-f)<a)break;f>d?b=n:v=n;n=(v-b)/2+b}return n}var h=3*a,C=3*(d-a)-h,r=1-h-C,l=3*b,p=3*(e-b)-l,s=1-l-p;return function(f,a){var b=g(f,a);return((s*b+p)*b+l)*b}(f,1/(200*k))}b.version="1.5.2";var y=/[, ]+/,K={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},z=/\{(\d+)\}/g,s="hasOwnProperty",D=document,Y=window,la=Object.prototype[s].call(Y,"Raphael"),db=Y.Raphael,Wa=function(){this.customAttributes={}},fa,N="apply",eb="createTouch"in D,M=String,lb="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(" "),
ba={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w="length",qa=M.prototype.toLowerCase,F=Math,ta=F.max,Na=F.min,W=F.abs,Z=F.pow,U=F.PI,V="number",O="array",Za=Object.prototype.toString,X="push",Ba=/^url\(['"]?([^\)]+?)['"]?\)$/i,Lb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
Pa={NaN:1,Infinity:1,"-Infinity":1},Tb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,pa=F.round,R=parseFloat,oa=parseInt,Sa=M.prototype.toUpperCase,qb={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"",
"stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},yb={along:"along",blur:V,"clip-rect":"csv",cx:V,cy:V,fill:"colour","fill-opacity":V,"font-size":V,height:V,opacity:V,path:"path",r:V,rotation:"csv",rx:V,ry:V,scale:"csv",stroke:"colour","stroke-opacity":V,"stroke-width":V,translation:"csv",width:V,x:V,y:V},Yb=/^(from|to|\d+%?)$/,Xa=/\s*,\s*/,Ja={hs:1,rg:1},
Qb=/,?([achlmqrstvxz]),?/gi,Mb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,hb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,Ga=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,zb=function(f,a){return f.key-a.key};b.type=Y.SVGAngle||D.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if("VML"==b.type){var sb=D.createElement("div"),tb;sb.innerHTML='<v:shape adj="1"/>';tb=sb.firstChild;tb.style.behavior="url(#default#VML)";if(!tb||"object"!=typeof tb.adj)return b.type=
null;sb=null}b.svg=!(b.vml="VML"==b.type);Wa.prototype=b.prototype;fa=Wa.prototype;b._id=0;b._oid=0;b.fn={};b.is=function(f,a){a=qa.call(a);return"finite"==a?!Pa[s](+f):"null"==a&&null===f||a==typeof f||"object"==a&&f===Object(f)||"array"==a&&Array.isArray&&Array.isArray(f)||Za.call(f).slice(8,-1).toLowerCase()==a};b.angle=function(f,a,n,d,e,k){return null==e?(f-=n,a-=d,f||a?(180*(0>f)+180*F.atan(-a/-f)/U+360)%360:0):b.angle(f,a,e,k)-b.angle(n,d,e,k)};b.rad=function(f){return f%360*U/180};b.deg=function(f){return 180*
f/U%360};b.snapTo=function(f,a,n){n=b.is(n,"finite")?n:10;if(b.is(f,O))for(var d=f.length;d--;){if(W(f[d]-a)<=n)return f[d]}else{f=+f;d=a%f;if(d<n)return a-d;if(d>f-n)return a-d+f}return a};b.setWindow=function(f){Y=f;D=Y.document};var ub=function(f){if(b.vml){var a=/^\s+|\s+$/g,n;try{var d=new ActiveXObject("htmlfile");d.write("<body>");d.close();n=d.body}catch(e){n=createPopup().document.body}var k=n.createTextRange();ub=g(function(f){try{n.style.color=M(f).replace(a,"");var b=k.queryCommandValue("ForeColor");
return"#"+("000000"+((b&255)<<16|b&65280|(b&16711680)>>>16).toString(16)).slice(-6)}catch(d){return"none"}})}else{var h=D.createElement("i");h.title="Rapha\u00ebl Colour Picker";h.style.display="none";D.body.appendChild(h);ub=g(function(f){h.style.color=f;return D.defaultView.getComputedStyle(h,"").getPropertyValue("color")})}return ub(f)},Nb=function(){return"hsb("+[this.h,this.s,this.b]+")"},Eb=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ob=function(){return this.hex};b.hsb2rgb=function(f,
a,n,d){b.is(f,"object")&&"h"in f&&"s"in f&&"b"in f&&(n=f.b,a=f.s,f=f.h,d=f.o);return b.hsl2rgb(f,a,n/2,d)};b.hsl2rgb=function(f,a,n,d){b.is(f,"object")&&"h"in f&&"s"in f&&"l"in f&&(n=f.l,a=f.s,f=f.h);if(1<f||1<a||1<n)f/=360,a/=100,n/=100;var e={},k=["r","g","b"],h;if(a){.5>n?h=n*(1+a):h=n+a-n*a;a=2*n-h;for(var g=0;3>g;g++)n=f+1/3*-(g-1),0>n&&n++,1<n&&n--,1>6*n?e[k[g]]=a+6*(h-a)*n:1>2*n?e[k[g]]=h:2>3*n?e[k[g]]=a+(h-a)*(2/3-n)*6:e[k[g]]=a}else e={r:n,g:n,b:n};e.r*=255;e.g*=255;e.b*=255;e.hex="#"+(16777216|
e.b|e.g<<8|e.r<<16).toString(16).slice(1);b.is(d,"finite")&&(e.opacity=d);e.toString=Ob;return e};b.rgb2hsb=function(f,a,n){null==a&&b.is(f,"object")&&"r"in f&&"g"in f&&"b"in f&&(n=f.b,a=f.g,f=f.r);null==a&&b.is(f,"string")&&(n=b.getRGB(f),f=n.r,a=n.g,n=n.b);if(1<f||1<a||1<n)f/=255,a/=255,n/=255;var d=ta(f,a,n),e=Na(f,a,n),k;if(e==d)return{h:0,s:0,b:d,toString:Nb};e=d-e;f==d?k=(a-n)/e:a==d?k=2+(n-f)/e:k=4+(f-a)/e;k/=6;0>k&&k++;1<k&&k--;return{h:k,s:e/d,b:d,toString:Nb}};b.rgb2hsl=function(f,a,n){null==
a&&b.is(f,"object")&&"r"in f&&"g"in f&&"b"in f&&(n=f.b,a=f.g,f=f.r);null==a&&b.is(f,"string")&&(n=b.getRGB(f),f=n.r,a=n.g,n=n.b);if(1<f||1<a||1<n)f/=255,a/=255,n/=255;var d=ta(f,a,n),e=Na(f,a,n),k,h=(d+e)/2;if(e==d)f={h:0,s:0,l:h};else{var g=d-e;f==d?k=(a-n)/g:a==d?k=2+(n-f)/g:k=4+(f-a)/g;k/=6;0>k&&k++;1<k&&k--;f={h:k,s:.5>h?g/(d+e):g/(2-d-e),l:h}}f.toString=Eb;return f};b._path2string=function(){return this.join(",").replace(Qb,"$1")};b.getRGB=g(function(f){if(!f||(f=M(f)).indexOf("-")+1)return{r:-1,
g:-1,b:-1,hex:"none",error:1};if("none"==f)return{r:-1,g:-1,b:-1,hex:"none"};!Ja[s](f.toLowerCase().substring(0,2))&&"#"!=f.charAt()&&(f=ub(f));var a,n,d,e,k;if(f=f.match(Lb)){f[2]&&(d=oa(f[2].substring(5),16),n=oa(f[2].substring(3,5),16),a=oa(f[2].substring(1,3),16));f[3]&&(d=oa((k=f[3].charAt(3))+k,16),n=oa((k=f[3].charAt(2))+k,16),a=oa((k=f[3].charAt(1))+k,16));f[4]&&(k=f[4].split(Xa),a=R(k[0]),"%"==k[0].slice(-1)&&(a*=2.55),n=R(k[1]),"%"==k[1].slice(-1)&&(n*=2.55),d=R(k[2]),"%"==k[2].slice(-1)&&
(d*=2.55),"rgba"==f[1].toLowerCase().slice(0,4)&&(e=R(k[3])),k[3]&&"%"==k[3].slice(-1)&&(e/=100));if(f[5])return k=f[5].split(Xa),a=R(k[0]),"%"==k[0].slice(-1)&&(a*=2.55),n=R(k[1]),"%"==k[1].slice(-1)&&(n*=2.55),d=R(k[2]),"%"==k[2].slice(-1)&&(d*=2.55),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(a/=360),"hsba"==f[1].toLowerCase().slice(0,4)&&(e=R(k[3])),k[3]&&"%"==k[3].slice(-1)&&(e/=100),b.hsb2rgb(a,n,d,e);if(f[6])return k=f[6].split(Xa),a=R(k[0]),"%"==k[0].slice(-1)&&(a*=2.55),n=R(k[1]),"%"==
k[1].slice(-1)&&(n*=2.55),d=R(k[2]),"%"==k[2].slice(-1)&&(d*=2.55),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(a/=360),"hsla"==f[1].toLowerCase().slice(0,4)&&(e=R(k[3])),k[3]&&"%"==k[3].slice(-1)&&(e/=100),b.hsl2rgb(a,n,d,e);f={r:a,g:n,b:d};f.hex="#"+(16777216|d|n<<8|a<<16).toString(16).slice(1);b.is(e,"finite")&&(f.opacity=e);return f}return{r:-1,g:-1,b:-1,hex:"none",error:1}},b);b.getColor=function(f){f=this.getColor.start=this.getColor.start||{h:0,s:1,b:f||.75};var a=this.hsb2rgb(f.h,f.s,
f.b);f.h+=.075;1<f.h&&(f.h=0,f.s-=.2,0>=f.s&&(this.getColor.start={h:0,s:1,b:f.b}));return a.hex};b.getColor.reset=function(){delete this.start};b.parsePathString=g(function(f){if(!f)return null;var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[];b.is(f,O)&&b.is(f[0],O)&&(n=Fb(f));n[w]||M(f).replace(Mb,function(f,b,d){var e=[];f=qa.call(b);d.replace(hb,function(f,a){a&&e[X](+a)});"m"==f&&2<e[w]&&(n[X]([b].concat(e.splice(0,2))),f="l",b="m"==b?"l":"L");for(;e[w]>=a[f]&&(n[X]([b].concat(e.splice(0,
a[f]))),a[f]););});n.toString=b._path2string;return n});b.findDotsAtSegment=function(f,a,b,d,e,k,h,g,C){var r=1-C,l=Z(r,3)*f+3*Z(r,2)*C*b+3*r*C*C*e+Z(C,3)*h,r=Z(r,3)*a+3*Z(r,2)*C*d+3*r*C*C*k+Z(C,3)*g,p=f+2*C*(b-f)+C*C*(e-2*b+f),s=a+2*C*(d-a)+C*C*(k-2*d+a),q=b+2*C*(e-b)+C*C*(h-2*e+b),m=d+2*C*(k-d)+C*C*(g-2*k+d);f=(1-C)*f+C*b;a=(1-C)*a+C*d;e=(1-C)*e+C*h;k=(1-C)*k+C*g;g=90-180*F.atan((p-q)/(s-m))/U;(p>q||s<m)&&(g+=180);return{x:l,y:r,m:{x:p,y:s},n:{x:q,y:m},start:{x:f,y:a},end:{x:e,y:k},alpha:g}};var jb=
g(function(f){if(!f)return{x:0,y:0,width:0,height:0};f=xb(f);for(var a=0,b=0,d=[],e=[],k,g=0,h=f[w];g<h;g++)k=f[g],"M"==k[0]?(a=k[1],b=k[2],d[X](a),e[X](b)):(a=E(a,b,k[1],k[2],k[3],k[4],k[5],k[6]),d=d.concat(a.min.x,a.max.x),e=e.concat(a.min.y,a.max.y),a=k[5],b=k[6]);f=Na[N](0,d);k=Na[N](0,e);return{x:f,y:k,width:ta[N](0,d)-f,height:ta[N](0,e)-k}}),Fb=function(f){var a=[];b.is(f,O)&&b.is(f&&f[0],O)||(f=b.parsePathString(f));for(var n=0,d=f[w];n<d;n++){a[n]=[];for(var e=0,k=f[n][w];e<k;e++)a[n][e]=
f[n][e]}a.toString=b._path2string;return a},Pb=g(function(f){b.is(f,O)&&b.is(f&&f[0],O)||(f=b.parsePathString(f));var a=[],n=0,d=0,e=0,k=0,g=0;"M"==f[0][0]&&(n=f[0][1],d=f[0][2],e=n,k=d,g++,a[X](["M",n,d]));for(var h=f[w];g<h;g++){var l=a[g]=[],r=f[g];if(r[0]!=qa.call(r[0]))switch(l[0]=qa.call(r[0]),l[0]){case "a":l[1]=r[1];l[2]=r[2];l[3]=r[3];l[4]=r[4];l[5]=r[5];l[6]=+(r[6]-n).toFixed(3);l[7]=+(r[7]-d).toFixed(3);break;case "v":l[1]=+(r[1]-d).toFixed(3);break;case "m":e=r[1],k=r[2];default:for(var p=
1,s=r[w];p<s;p++)l[p]=+(r[p]-(p%2?n:d)).toFixed(3)}else for(a[g]=[],"m"==r[0]&&(e=r[1]+n,k=r[2]+d),l=0,p=r[w];l<p;l++)a[g][l]=r[l];r=a[g][w];switch(a[g][0]){case "z":n=e;d=k;break;case "h":n+=+a[g][r-1];break;case "v":d+=+a[g][r-1];break;default:n+=+a[g][r-2],d+=+a[g][r-1]}}a.toString=b._path2string;return a},0,Fb),kb=g(function(f){b.is(f,O)&&b.is(f&&f[0],O)||(f=b.parsePathString(f));var a=[],n=0,d=0,e=0,k=0,g=0;"M"==f[0][0]&&(n=+f[0][1],d=+f[0][2],e=n,k=d,g++,a[0]=["M",n,d]);for(var h=f[w];g<h;g++){var l=
a[g]=[],r=f[g];if(r[0]!=Sa.call(r[0]))switch(l[0]=Sa.call(r[0]),l[0]){case "A":l[1]=r[1];l[2]=r[2];l[3]=r[3];l[4]=r[4];l[5]=r[5];l[6]=+(r[6]+n);l[7]=+(r[7]+d);break;case "V":l[1]=+r[1]+d;break;case "H":l[1]=+r[1]+n;break;case "M":e=+r[1]+n,k=+r[2]+d;default:for(var p=1,s=r[w];p<s;p++)l[p]=+r[p]+(p%2?n:d)}else for(p=0,s=r[w];p<s;p++)a[g][p]=r[p];switch(l[0]){case "Z":n=e;d=k;break;case "H":n=l[1];break;case "V":d=l[1];break;case "M":e=a[g][a[g][w]-2],k=a[g][a[g][w]-1];default:n=a[g][a[g][w]-2],d=a[g][a[g][w]-
1]}}a.toString=b._path2string;return a},null,Fb),Gb=function(f,a,b,d){return[f,a,b,d,b,d]},Ub=function(f,a,b,d,e,k){var g=1/3,h=2/3;return[g*f+h*b,g*a+h*d,g*e+h*b,g*k+h*d,e,k]},Ta=function(f,a,b,d,e,k,h,l,C,r){var p=120*U/180,s=U/180*(+e||0),q=[],m,t=g(function(f,a,b){var d=f*F.cos(b)-a*F.sin(b);f=f*F.sin(b)+a*F.cos(b);return{x:d,y:f}});if(r)x=r[0],m=r[1],k=r[2],u=r[3];else{m=t(f,a,-s);f=m.x;a=m.y;m=t(l,C,-s);l=m.x;C=m.y;F.cos(U/180*e);F.sin(U/180*e);m=(f-l)/2;x=(a-C)/2;u=m*m/(b*b)+x*x/(d*d);1<u&&
(u=F.sqrt(u),b*=u,d*=u);var u=b*b,y=d*d,u=(k==h?-1:1)*F.sqrt(W((u*y-u*x*x-y*m*m)/(u*x*x+y*m*m)));k=u*b*x/d+(f+l)/2;var u=u*-d*m/b+(a+C)/2,x=F.asin(((a-u)/d).toFixed(9));m=F.asin(((C-u)/d).toFixed(9));x=f<k?U-x:x;m=l<k?U-m:m;0>x&&(x=2*U+x);0>m&&(m=2*U+m);h&&x>m&&(x-=2*U);!h&&m>x&&(m-=2*U)}if(W(m-x)>p){var q=m,y=l,A=C;m=x+p*(h&&m>x?1:-1);l=k+b*F.cos(m);C=u+d*F.sin(m);q=Ta(l,C,b,d,e,0,h,y,A,[m,q,k,u])}k=m-x;e=F.cos(x);p=F.sin(x);h=F.cos(m);m=F.sin(m);k=F.tan(k/4);b=4/3*b*k;k*=4/3*d;d=[f,a];f=[f+b*p,
a-k*e];a=[l+b*m,C-k*h];l=[l,C];f[0]=2*d[0]-f[0];f[1]=2*d[1]-f[1];if(r)return[f,a,l].concat(q);q=[f,a,l].concat(q).join().split(",");r=[];l=0;for(C=q[w];l<C;l++)r[l]=l%2?t(q[l-1],q[l],s).y:t(q[l],q[l+1],s).x;return r},Ca=function(f,a,b,d,e,k,g,h,l){var r=1-l;return{x:Z(r,3)*f+3*Z(r,2)*l*b+3*r*l*l*e+Z(l,3)*g,y:Z(r,3)*a+3*Z(r,2)*l*d+3*r*l*l*k+Z(l,3)*h}},E=g(function(f,a,b,d,e,k,g,h){var l=e-2*b+f-(g-2*e+b),r=2*(b-f)-2*(e-b),p=f-b,m=(-r+F.sqrt(r*r-4*l*p))/2/l,l=(-r-F.sqrt(r*r-4*l*p))/2/l,s=[a,h],q=[f,
g];"1e12"<W(m)&&(m=.5);"1e12"<W(l)&&(l=.5);0<m&&1>m&&(m=Ca(f,a,b,d,e,k,g,h,m),q[X](m.x),s[X](m.y));0<l&&1>l&&(m=Ca(f,a,b,d,e,k,g,h,l),q[X](m.x),s[X](m.y));l=k-2*d+a-(h-2*k+d);r=2*(d-a)-2*(k-d);p=a-d;m=(-r+F.sqrt(r*r-4*l*p))/2/l;l=(-r-F.sqrt(r*r-4*l*p))/2/l;"1e12"<W(m)&&(m=.5);"1e12"<W(l)&&(l=.5);0<m&&1>m&&(m=Ca(f,a,b,d,e,k,g,h,m),q[X](m.x),s[X](m.y));0<l&&1>l&&(m=Ca(f,a,b,d,e,k,g,h,l),q[X](m.x),s[X](m.y));return{min:{x:Na[N](0,q),y:Na[N](0,s)},max:{x:ta[N](0,q),y:ta[N](0,s)}}}),xb=g(function(f,a){var b=
kb(f),d=a&&kb(a),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(f,a){var b,d;if(!f)return["C",a.x,a.y,a.x,a.y,a.x,a.y];f[0]in{T:1,Q:1}||(a.qx=a.qy=null);switch(f[0]){case "M":a.X=f[1];a.Y=f[2];break;case "A":f=["C"].concat(Ta[N](0,[a.x,a.y].concat(f.slice(1))));break;case "S":b=a.x+(a.x-(a.bx||a.x));d=a.y+(a.y-(a.by||a.y));f=["C",b,d].concat(f.slice(1));break;case "T":a.qx=a.x+(a.x-(a.qx||a.x));a.qy=a.y+(a.y-(a.qy||a.y));f=["C"].concat(Ub(a.x,
a.y,a.qx,a.qy,f[1],f[2]));break;case "Q":a.qx=f[1];a.qy=f[2];f=["C"].concat(Ub(a.x,a.y,f[1],f[2],f[3],f[4]));break;case "L":f=["C"].concat(Gb(a.x,a.y,f[1],f[2]));break;case "H":f=["C"].concat(Gb(a.x,a.y,f[1],a.y));break;case "V":f=["C"].concat(Gb(a.x,a.y,a.x,f[1]));break;case "Z":f=["C"].concat(Gb(a.x,a.y,a.X,a.Y))}return f},h=function(f,a){if(7<f[a][w]){f[a].shift();for(var v=f[a];v[w];)f.splice(a++,0,["C"].concat(v.splice(0,6)));f.splice(a,1);m=ta(b[w],d&&d[w]||0)}},l=function(f,a,v,e,k){f&&a&&
"M"==f[k][0]&&"M"!=a[k][0]&&(a.splice(k,0,["M",e.x,e.y]),v.bx=0,v.by=0,v.x=f[k][1],v.y=f[k][2],m=ta(b[w],d&&d[w]||0))},r=0,m=ta(b[w],d&&d[w]||0);for(;r<m;r++){b[r]=g(b[r],e);h(b,r);d&&(d[r]=g(d[r],k));d&&h(d,r);l(b,d,e,k,r);l(d,b,k,e,r);var p=b[r],s=d&&d[r],q=p[w],t=d&&s[w];e.x=p[q-2];e.y=p[q-1];e.bx=R(p[q-4])||e.x;e.by=R(p[q-3])||e.y;k.bx=d&&(R(s[t-4])||k.x);k.by=d&&(R(s[t-3])||k.y);k.x=d&&s[t-2];k.y=d&&s[t-1]}return d?[b,d]:b},null,Fb),nb=g(function(f){for(var a=[],d=0,e=f[w];d<e;d++){var g={},
k=f[d].match(/^([^:]*):?([\d\.]*)/);g.color=b.getRGB(k[1]);if(g.color.error)return null;g.color=g.color.hex;k[2]&&(g.offset=k[2]+"%");a[X](g)}d=1;for(e=a[w]-1;d<e;d++)if(!a[d].offset){f=R(a[d-1].offset||0);k=0;for(g=d+1;g<e;g++)if(a[g].offset){k=a[g].offset;break}k||(k=100,g=e);k=R(k);for(k=(k-f)/(g-d+1);d<g;d++)f+=k,a[d].offset=f+"%"}return a}),na=function(f,a,d,e){if(b.is(f,"string")||b.is(f,"object")){if(f=b.is(f,"string")?D.getElementById(f):f,f.tagName)return null==a?{container:f,width:f.style.pixelWidth||
f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:a,height:d}}else return{container:1,x:f,y:a,width:d,height:e}},cb=function(f,a){var b=this,d;for(d in a)if(a[s](d)&&!(d in f))switch(typeof a[d]){case "function":(function(a){f[d]=f===b?a:function(){return a[N](b,arguments)}})(a[d]);break;case "object":f[d]=f[d]||{};cb.call(this,f[d],a[d]);break;default:f[d]=a[d]}},sa=function(f,a){f==a.top&&(a.top=f.prev);f==a.bottom&&(a.bottom=f.next);f.next&&(f.next.prev=f.prev);f.prev&&
(f.prev.next=f.next)},Va=function(f,a){a.top!==f&&(sa(f,a),f.next=null,f.prev=a.top,a.top.next=f,a.top=f)},xa=function(a,b){b.bottom!==a&&(sa(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},Kb=function(a,b,d){sa(a,d);b==d.top&&(d.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},Hb=function(a,b,d){sa(a,d);b==d.bottom&&(d.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},ya=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+
a+"\u201d of removed object");}};b.pathToRelative=Pb;if(b.svg){fa.svgns="http://www.w3.org/2000/svg";fa.xlink="http://www.w3.org/1999/xlink";var pa=function(a){return+a+.5*(~~a===a)},B=function(a,b){if(b)for(var d in b)b[s](d)&&a.setAttribute(d,M(b[d]));else return a=D.createElementNS(fa.svgns,a),a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a};b.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var Ab=function(a,b){var d=B("path");b.canvas&&b.canvas.appendChild(d);
d=new ha(d,b);d.type="path";Ra(d,{fill:"none",stroke:"#000",path:a});return d},ib=function(a,b,d){var g="linear",h=.5,k=.5,l=a.style;b=M(b).replace(Ga,function(a,f,b){g="radial";f&&b&&(h=R(f),k=R(b),a=2*(.5<k)-1,.25<Z(h-.5,2)+Z(k-.5,2)&&(k=F.sqrt(.25-Z(h-.5,2))*a+.5)&&.5!=k&&(k=k.toFixed(5)-1E-5*a));return""});b=b.split(/\s*\-\s*/);if("linear"==g){var m=b.shift(),m=-R(m);if(isNaN(m))return null;var m=[0,0,F.cos(m*U/180),F.sin(m*U/180)],p=1/(ta(W(m[2]),W(m[3]))||1);m[2]*=p;m[3]*=p;0>m[2]&&(m[0]=-m[2],
m[2]=0);0>m[3]&&(m[1]=-m[3],m[3]=0)}b=nb(b);if(!b)return null;p=a.getAttribute("fill");(p=p.match(/^url\(#(.*)\)$/))&&d.defs.removeChild(D.getElementById(p[1]));p=B(g+"Gradient");p.id=e();B(p,"radial"==g?{fx:h,fy:k}:{x1:m[0],y1:m[1],x2:m[2],y2:m[3]});d.defs.appendChild(p);d=0;for(m=b[w];d<m;d++){var r=B("stop");B(r,{offset:b[d].offset?b[d].offset:d?"100%":"0%","stop-color":b[d].color||"#fff"});p.appendChild(r)}B(a,{fill:"url(#"+p.id+")",opacity:1,"fill-opacity":1});l.fill="";l.opacity=1;return l.fillOpacity=
1},$a=function(a){var d=a.getBBox();B(a.pattern,{patternTransform:b.format("translate({0},{1})",d.x,d.y)})},Ra=function(a,d){var n={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},g=a.node,h=a.attrs,k=a.rotate(),l=function(a,f){if(f=n[qa.call(f)]){for(var b=a.attrs["stroke-width"]||"1",e={round:b,square:b,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,k=[],h=f[w];h--;)k[h]=f[h]*
b+(h%2?1:-1)*e;B(g,{"stroke-dasharray":k.join(",")})}};d[s]("rotation")&&(k=d.rotation);var m=M(k).split(y);m.length-1?(m[1]=+m[1],m[2]=+m[2]):m=null;R(k)&&a.rotate(0,!0);for(var p in d)if(d[s](p)&&qb[s](p)){var r=d[p];h[p]=r;switch(p){case "blur":a.blur(r);break;case "rotation":a.rotate(r,!0);break;case "href":case "title":case "target":var q=g.parentNode;if("a"!=qa.call(q.tagName)){var t=B("a");q.insertBefore(t,g);t.appendChild(g);q=t}"target"==p&&"blank"==r?q.setAttributeNS(a.paper.xlink,"show",
"new"):q.setAttributeNS(a.paper.xlink,p,r);break;case "cursor":g.style.cursor=r;break;case "clip-rect":q=M(r).split(y);if(4==q[w]){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var u=B("clipPath"),t=B("rect");u.id=e();B(t,{x:q[0],y:q[1],width:q[2],height:q[3]});u.appendChild(t);a.paper.defs.appendChild(u);B(g,{"clip-path":"url(#"+u.id+")"});a.clip=t}r||((r=D.getElementById(g.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&r.parentNode.removeChild(r),B(g,{"clip-path":""}),
delete a.clip);break;case "path":"path"==a.type&&B(g,{d:r?h.path=kb(r):"M0,0"});break;case "width":if(g.setAttribute(p,r),h.fx)p="x",r=h.x;else break;case "x":h.fx&&(r=-h.x-(h.width||0));case "rx":if("rx"==p&&"rect"==a.type)break;case "cx":m&&("x"==p||"cx"==p)&&(m[1]+=r-h[p]);g.setAttribute(p,r);a.pattern&&$a(a);break;case "height":if(g.setAttribute(p,r),h.fy)p="y",r=h.y;else break;case "y":h.fy&&(r=-h.y-(h.height||0));case "ry":if("ry"==p&&"rect"==a.type)break;case "cy":m&&("y"==p||"cy"==p)&&(m[2]+=
r-h[p]);g.setAttribute(p,r);a.pattern&&$a(a);break;case "r":"rect"==a.type?B(g,{rx:r,ry:r}):g.setAttribute(p,r);break;case "src":"image"==a.type&&g.setAttributeNS(a.paper.xlink,"href",r);break;case "stroke-width":g.style.strokeWidth=r;g.setAttribute(p,r);h["stroke-dasharray"]&&l(a,h["stroke-dasharray"]);break;case "stroke-dasharray":l(a,r);break;case "translation":r=M(r).split(y);r[0]=+r[0]||0;r[1]=+r[1]||0;m&&(m[1]+=r[0],m[2]+=r[1]);L.call(a,r[0],r[1]);break;case "scale":r=M(r).split(y);a.scale(+r[0]||
1,+r[1]||+r[0]||1,isNaN(R(r[2]))?null:+r[2],isNaN(R(r[3]))?null:+r[3]);break;case "fill":if(q=M(r).match(Ba)){var u=B("pattern"),x=B("image");u.id=e();B(u,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});B(x,{x:0,y:0});x.setAttributeNS(a.paper.xlink,"href",q[1]);u.appendChild(x);r=D.createElement("img");r.style.cssText="position:absolute;left:-9999em;top-9999em";r.onload=function(){B(u,{width:this.offsetWidth,height:this.offsetHeight});B(x,{width:this.offsetWidth,height:this.offsetHeight});
D.body.removeChild(this);a.paper.safari()};D.body.appendChild(r);r.src=q[1];a.paper.defs.appendChild(u);g.style.fill="url(#"+u.id+")";B(g,{fill:"url(#"+u.id+")"});a.pattern=u;a.pattern&&$a(a);break}q=b.getRGB(r);if(q.error)if(({circle:1,ellipse:1}[s](a.type)||"r"!=M(r).charAt())&&ib(g,r,a.paper)){h.gradient=r;h.fill="none";break}else delete d.gradient,delete h.gradient,!b.is(h.opacity,"undefined")&&b.is(d.opacity,"undefined")&&B(g,{opacity:h.opacity}),!b.is(h["fill-opacity"],"undefined")&&b.is(d["fill-opacity"],
"undefined")&&B(g,{"fill-opacity":h["fill-opacity"]});q[s]("opacity")&&B(g,{"fill-opacity":1<q.opacity?q.opacity/100:q.opacity});case "stroke":q=b.getRGB(r);g.setAttribute(p,q.hex);"stroke"==p&&q[s]("opacity")&&B(g,{"stroke-opacity":1<q.opacity?q.opacity/100:q.opacity});break;case "gradient":({circle:1,ellipse:1}[s](a.type)||"r"!=M(r).charAt())&&ib(g,r,a.paper);break;case "opacity":h.gradient&&!h[s]("stroke-opacity")&&B(g,{"stroke-opacity":1<r?r/100:r});case "fill-opacity":if(h.gradient){if(q=D.getElementById(g.getAttribute("fill").replace(/^url\(#|\)$/g,
"")))q=q.getElementsByTagName("stop"),q[q[w]-1].setAttribute("stop-opacity",r);break}default:"font-size"==p&&(r=oa(r,10)+"px"),q=p.replace(/(\-.)/g,function(a){return Sa.call(a.substring(1))}),g.style[q]=r,g.setAttribute(p,r)}}Vb(a,d);m?a.rotate(m.join(" ")):R(k)&&a.rotate(k,!0)},Vb=function(a,d){if("text"==a.type&&(d[s]("text")||d[s]("font")||d[s]("font-size")||d[s]("x")||d[s]("y"))){var n=a.attrs,e=a.node,g=e.firstChild?oa(D.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),
10):10;if(d[s]("text")){for(n.text=d.text;e.firstChild;)e.removeChild(e.firstChild);for(var k=M(d.text).split("\n"),h=0,l=k[w];h<l;h++)if(k[h]){var m=B("tspan");h&&B(m,{dy:1.2*g,x:n.x});m.appendChild(D.createTextNode(k[h]));e.appendChild(m)}}else for(k=e.getElementsByTagName("tspan"),h=0,l=k[w];h<l;h++)h&&B(k[h],{dy:1.2*g,x:n.x});B(e,{y:n.y});g=a.getBBox();(g=n.y-(g.y+g.height/2))&&b.is(g,"finite")&&B(e,{y:n.y+g})}},ha=function(a,d){this[0]=a;this.id=b._oid++;this.node=a;a.raphael=this;this.paper=
d;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null},ea=ha.prototype;ha.prototype.rotate=function(a,d,n){if(this.removed)return this;if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" "):this._.rt.deg;var e=this.getBBox();a=M(a).split(y);a[w]-1&&(d=R(a[1]),n=R(a[2]));a=R(a[0]);null!=d&&!1!==d?this._.rt.deg=a:this._.rt.deg+=a;null==
n&&(d=null);this._.rt.cx=d;this._.rt.cy=n;d=null==d?e.x+e.width/2:d;n=null==n?e.y+e.height/2:n;this._.rt.deg?(this.transformations[0]=b.format("rotate({0} {1} {2})",this._.rt.deg,d,n),this.clip&&B(this.clip,{transform:b.format("rotate({0} {1} {2})",-this._.rt.deg,d,n)})):(this.transformations[0]="",this.clip&&B(this.clip,{transform:""}));B(this.node,{transform:this.transformations.join(" ")});return this};ha.prototype.hide=function(){!this.removed&&(this.node.style.display="none");return this};ha.prototype.show=
function(){!this.removed&&(this.node.style.display="");return this};ha.prototype.remove=function(){if(!this.removed){sa(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=!0}};ha.prototype.getBBox=function(){if(this.removed)return this;if("path"==this.type)return jb(this.attrs.path);if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(d){}finally{b=b||{}}if("text"==this.type)for(var b={x:b.x,y:Infinity,
width:0,height:0},e=0,g=this.node.getNumberOfChars();e<g;e++){var k=this.node.getExtentOfChar(e);k.y<b.y&&(b.y=k.y);k.y+k.height-b.y>b.height&&(b.height=k.y+k.height-b.y);k.x+k.width-b.x>b.width&&(b.width=k.x+k.width-b.x)}a&&this.hide();return b};ha.prototype.attr=function(a,d){if(this.removed)return this;if(null==a){var n={},e;for(e in this.attrs)this.attrs[s](e)&&(n[e]=this.attrs[e]);this._.rt.deg&&(n.rotation=this.rotate());1==this._.sx&&1==this._.sy||(n.scale=this.scale());n.gradient&&"none"==
n.fill&&(n.fill=n.gradient)&&delete n.gradient;return n}if(null==d&&b.is(a,"string"))return"translation"==a?L.call(this):"rotation"==a?this.rotate():"scale"==a?this.scale():"fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(null==d&&b.is(a,O)){e={};for(var n=0,g=a.length;n<g;n++)e[a[n]]=this.attr(a[n]);return e}null!=d?(n={},n[a]=d):null!=a&&b.is(a,"object")&&(n=a);for(g in this.paper.customAttributes)if(this.paper.customAttributes[s](g)&&n[s](g)&&b.is(this.paper.customAttributes[g],
"function")){e=this.paper.customAttributes[g].apply(this,[].concat(n[g]));this.attrs[g]=n[g];for(var k in e)e[s](k)&&(n[k]=e[k])}Ra(this,n);return this};ha.prototype.toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&Va(this,a);return this};ha.prototype.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),xa(this,this.paper));
return this};ha.prototype.insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);Kb(this,a,this.paper);return this};ha.prototype.insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,b);Hb(this,a,this.paper);return this};ha.prototype.blur=function(a){if(0!==+a){var b=B("filter"),d=B("feGaussianBlur");this.attrs.blur=
a;b.id=e();B(d,{stdDeviation:+a||1.5});b.appendChild(d);this.paper.defs.appendChild(b);this._blur=b;B(this.node,{filter:"url(#"+b.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter")};var Wb=function(a,b,d,e){var g=B("circle");a.canvas&&a.canvas.appendChild(g);a=new ha(g,a);a.attrs={cx:b,cy:d,r:e,fill:"none",stroke:"#000"};a.type="circle";B(g,a.attrs);return a},bc=function(a,b,d,e,g,k){var h=B("rect");
a.canvas&&a.canvas.appendChild(h);a=new ha(h,a);a.attrs={x:b,y:d,width:e,height:g,r:k||0,rx:k||0,ry:k||0,fill:"none",stroke:"#000"};a.type="rect";B(h,a.attrs);return a},va=function(a,b,d,e,g){var k=B("ellipse");a.canvas&&a.canvas.appendChild(k);a=new ha(k,a);a.attrs={cx:b,cy:d,rx:e,ry:g,fill:"none",stroke:"#000"};a.type="ellipse";B(k,a.attrs);return a},ab=function(a,b,d,e,g,k){var h=B("image");B(h,{x:d,y:e,width:g,height:k,preserveAspectRatio:"none"});h.setAttributeNS(a.xlink,"href",b);a.canvas&&
a.canvas.appendChild(h);a=new ha(h,a);a.attrs={x:d,y:e,width:g,height:k,src:b};a.type="image";return a},Qa=function(a,b,d,e){var g=B("text");B(g,{x:b,y:d,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(g);a=new ha(g,a);a.attrs={x:b,y:d,"text-anchor":"middle",text:e,font:qb.font,stroke:"none",fill:"#000"};a.type="text";Ra(a,a.attrs);return a},Jb=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);
return this},gb=function(){var a=na[N](0,arguments),d=a&&a.container,e=a.x,g=a.y,h=a.width,a=a.height;if(!d)throw Error("SVG container not found.");var k=B("svg"),e=e||0,g=g||0,h=h||512,a=a||342;B(k,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:h,height:a});1==d?(k.style.cssText="position:absolute;left:"+e+"px;top:"+g+"px",D.body.appendChild(k)):d.firstChild?d.insertBefore(k,d.firstChild):d.appendChild(k);d=new Wa;d.width=h;d.height=a;d.canvas=k;cb.call(d,d,b.fn);d.clear();return d};fa.clear=
function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=B("desc")).appendChild(D.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=B("defs"))};fa.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=ya(a)}}if(b.vml){var Bb=function(a,d,e,g,h){return h?b.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",
a+h,d,e-2*h,h,-h,g-2*h,2*h-e,2*h-g):b.format("M{0},{1}l{2},0,0,{3},{4},0z",a,d,e,g,-e)},Zb={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Ua=/([clmz]),?([^clmz]*)/gi,ca=/ progid:\S+Blur\([^\)]+\)/g,ac=/-?[^,\s-]+/g,bb={path:1,rect:1},Cb=function(a){var b=/[ahqstv]/ig,d=kb;M(a).match(b)&&(d=xb);b=/[clmz]/g;if(d==kb&&!M(a).match(b))return a=M(a).replace(Ua,function(a,b,f){var d=[],e="m"==qa.call(b),n=Zb[b];f.replace(ac,function(a){e&&2==d[w]&&(n+=d+Zb["m"==b?"l":"L"],d=[]);d[X](pa(10*a))});return n+
d});var b=d(a),e;a=[];for(var g=0,k=b[w];g<k;g++){d=b[g];e=qa.call(b[g][0]);"z"==e&&(e="x");for(var h=1,l=d[w];h<l;h++)e+=pa(10*d[h])+(h!=l-1?",":"");a[X](e)}return a.join(" ")};b.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};Ab=function(a,b){var d=Da("group");d.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";d.coordsize=b.coordsize;d.coordorigin=b.coordorigin;var e=Da("shape"),
g=e.style;g.width=b.width+"px";g.height=b.height+"px";e.coordsize="1000 1000";e.coordorigin=b.coordorigin;d.appendChild(e);e=new ha(e,d,b);g={fill:"none",stroke:"#000"};a&&(g.path=a);e.type="path";e.path=[];e.Path="";Ra(e,g);b.canvas.appendChild(d);return e};Ra=function(a,d){a.attrs=a.attrs||{};var e=a.node,g=a.attrs,h=e.style,k;k=(d.x!=g.x||d.y!=g.y||d.width!=g.width||d.height!=g.height||d.r!=g.r)&&"rect"==a.type;for(var l in d)d[s](l)&&(g[l]=d[l]);k&&(g.path=Bb(g.x,g.y,g.width,g.height,g.r),a.X=
g.x,a.Y=g.y,a.W=g.width,a.H=g.height);d.href&&(e.href=d.href);d.title&&(e.title=d.title);d.target&&(e.target=d.target);d.cursor&&(h.cursor=d.cursor);"blur"in d&&a.blur(d.blur);if(d.path&&"path"==a.type||k)e.path=Cb(g.path);null!=d.rotation&&a.rotate(d.rotation,!0);d.translation&&(k=M(d.translation).split(y),L.call(a,k[0],k[1]),null!=a._.rt.cx&&(a._.rt.cx+=+k[0],a._.rt.cy+=+k[1],a.setBox(a.attrs,k[0],k[1])));d.scale&&(k=M(d.scale).split(y),a.scale(+k[0]||1,+k[1]||+k[0]||1,+k[2]||null,+k[3]||null));
if("clip-rect"in d){k=M(d["clip-rect"]).split(y);if(4==k[w]){k[2]=+k[2]+ +k[0];k[3]=+k[3]+ +k[1];l=e.clipRect||D.createElement("div");var m=l.style,p=e.parentNode;m.clip=b.format("rect({1}px {2}px {3}px {0}px)",k);e.clipRect||(m.position="absolute",m.top=0,m.left=0,m.width=a.paper.width+"px",m.height=a.paper.height+"px",p.parentNode.insertBefore(l,p),l.appendChild(p),e.clipRect=l)}d["clip-rect"]||e.clipRect&&(e.clipRect.style.clip="")}"image"==a.type&&d.src&&(e.src=d.src);"image"==a.type&&d.opacity&&
(e.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*d.opacity+")",h.filter=(e.filterMatrix||"")+(e.filterOpacity||""));d.font&&(h.font=d.font);d["font-family"]&&(h.fontFamily='"'+d["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');d["font-size"]&&(h.fontSize=d["font-size"]);d["font-weight"]&&(h.fontWeight=d["font-weight"]);d["font-style"]&&(h.fontStyle=d["font-style"]);if(null!=d.opacity||null!=d["stroke-width"]||null!=d.fill||null!=d.stroke||null!=d["stroke-width"]||
null!=d["stroke-opacity"]||null!=d["fill-opacity"]||null!=d["stroke-dasharray"]||null!=d["stroke-miterlimit"]||null!=d["stroke-linejoin"]||null!=d["stroke-linecap"]){e=a.shape||e;k=e.getElementsByTagName("fill")&&e.getElementsByTagName("fill")[0];l=!1;!k&&(l=k=Da("fill"));if("fill-opacity"in d||"opacity"in d)h=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+b.getRGB(d.fill).o+1||2)-1),h=Na(ta(h,0),1),k.opacity=h;d.fill&&(k.on=!0);if(null==k.on||"none"==d.fill)k.on=!1;k.on&&d.fill&&((h=d.fill.match(Ba))?
(k.src=h[1],k.type="tile"):(k.color=b.getRGB(d.fill).hex,k.src="",k.type="solid",b.getRGB(d.fill).error&&(a.type in{circle:1,ellipse:1}||"r"!=M(d.fill).charAt())&&ib(a,d.fill)&&(g.fill="none",g.gradient=d.fill)));l&&e.appendChild(k);k=e.getElementsByTagName("stroke")&&e.getElementsByTagName("stroke")[0];l=!1;!k&&(l=k=Da("stroke"));if(d.stroke&&"none"!=d.stroke||d["stroke-width"]||null!=d["stroke-opacity"]||d["stroke-dasharray"]||d["stroke-miterlimit"]||d["stroke-linejoin"]||d["stroke-linecap"])k.on=
!0;"none"!=d.stroke&&null!=k.on&&0!=d.stroke&&0!=d["stroke-width"]||(k.on=!1);h=b.getRGB(d.stroke);k.on&&d.stroke&&(k.color=h.hex);h=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+h.o+1||2)-1);m=.75*(R(d["stroke-width"])||1);h=Na(ta(h,0),1);null==d["stroke-width"]&&(m=g["stroke-width"]);d["stroke-width"]&&(k.weight=m);m&&1>m&&(h*=m)&&(k.weight=1);k.opacity=h;d["stroke-linejoin"]&&(k.joinstyle=d["stroke-linejoin"]||"miter");k.miterlimit=d["stroke-miterlimit"]||8;d["stroke-linecap"]&&(k.endcap=
"butt"==d["stroke-linecap"]?"flat":"square"==d["stroke-linecap"]?"square":"round");d["stroke-dasharray"]&&(h={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},k.dashstyle=h[s](d["stroke-dasharray"])?h[d["stroke-dasharray"]]:"");l&&e.appendChild(k)}if("text"==a.type)switch(h=a.paper.span.style,g.font&&(h.font=g.font),g["font-family"]&&(h.fontFamily=g["font-family"]),g["font-size"]&&
(h.fontSize=g["font-size"]),g["font-weight"]&&(h.fontWeight=g["font-weight"]),g["font-style"]&&(h.fontStyle=g["font-style"]),a.node.string&&(a.paper.span.innerHTML=M(a.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),a.W=g.w=a.paper.span.offsetWidth,a.H=g.h=a.paper.span.offsetHeight,a.X=g.x,a.Y=g.y+pa(a.H/2),g["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=pa(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-pa(a.W/2);break;
default:a.node.style["v-text-align"]="center"}};ib=function(a,b){a.attrs=a.attrs||{};var d,e="linear",g=".5 .5";a.attrs.gradient=b;b=M(b).replace(Ga,function(a,b,f){e="radial";b&&f&&(b=R(b),f=R(f),.25<Z(b-.5,2)+Z(f-.5,2)&&(f=F.sqrt(.25-Z(b-.5,2))*(2*(.5<f)-1)+.5),g=b+" "+f);return""});b=b.split(/\s*\-\s*/);if("linear"==e){var k=b.shift(),k=-R(k);if(isNaN(k))return null}var h=nb(b);if(!h)return null;a=a.shape||a.node;d=a.getElementsByTagName("fill")[0]||Da("fill");!d.parentNode&&a.appendChild(d);if(h[w]){d.on=
!0;d.method="none";d.color=h[0].color;d.color2=h[h[w]-1].color;for(var l=[],m=0,r=h[w];m<r;m++)h[m].offset&&l[X](h[m].offset+" "+h[m].color);d.colors&&(d.colors.value=l[w]?l.join():"0% "+d.color);"radial"==e?(d.type="gradientradial",d.focus="100%",d.focussize=g,d.focusposition=g):(d.type="gradient",d.angle=(270-k)%360)}return 1};ha=function(a,d,e){this[0]=a;this.id=b._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=d;this.paper=e;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!e.bottom&&
(e.bottom=this);(this.prev=e.top)&&(e.top.next=this);e.top=this;this.next=null};ea=ha.prototype;ea.rotate=function(a,b,d){if(this.removed)return this;if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" "):this._.rt.deg;a=M(a).split(y);a[w]-1&&(b=R(a[1]),d=R(a[2]));a=R(a[0]);null!=b?this._.rt.deg=a:this._.rt.deg+=a;null==d&&(b=null);this._.rt.cx=b;this._.rt.cy=d;this.setBox(this.attrs,b,d);this.Group.style.rotation=this._.rt.deg;return this};ea.setBox=function(a,b,d){if(this.removed)return this;
var e=this.Group.style,g=this.shape&&this.shape.style||this.node.style;a=a||{};for(var k in a)a[s](k)&&(this.attrs[k]=a[k]);b=b||this._.rt.cx;d=d||this._.rt.cy;var h=this.attrs,l;switch(this.type){case "circle":a=h.cx-h.r;k=h.cy-h.r;l=h=2*h.r;break;case "ellipse":a=h.cx-h.rx;k=h.cy-h.ry;l=2*h.rx;h=2*h.ry;break;case "image":a=+h.x;k=+h.y;l=h.width||0;h=h.height||0;break;case "text":this.textpath.v=["m",pa(h.x),", ",pa(h.y-2),"l",pa(h.x)+1,", ",pa(h.y-2)].join("");a=h.x-pa(this.W/2);k=h.y-this.H/2;
l=this.W;h=this.H;break;case "rect":case "path":this.attrs.path?(h=jb(this.attrs.path),a=h.x,k=h.y,l=h.width,h=h.height):(k=a=0,l=this.paper.width,h=this.paper.height);break;default:k=a=0,l=this.paper.width,h=this.paper.height}b=(null==b?a+l/2:b)-this.paper.width/2;d=(null==d?k+h/2:d)-this.paper.height/2;var m;e.left!=(m=b+"px")&&(e.left=m);e.top!=(m=d+"px")&&(e.top=m);this.X=bb[s](this.type)?-b:a;this.Y=bb[s](this.type)?-d:k;this.W=l;this.H=h;bb[s](this.type)?(g.left!=(m=10*-b+"px")&&(g.left=m),
g.top!=(m=10*-d+"px")&&(g.top=m)):"text"==this.type?(g.left!=(m=-b+"px")&&(g.left=m),g.top!=(m=-d+"px")&&(g.top=m)):(e.width!=(m=this.paper.width+"px")&&(e.width=m),e.height!=(m=this.paper.height+"px")&&(e.height=m),g.left!=(m=a-b+"px")&&(g.left=m),g.top!=(m=k-d+"px")&&(g.top=m),g.width!=(m=l+"px")&&(g.width=m),g.height!=(m=h+"px")&&(g.height=m))};ea.hide=function(){!this.removed&&(this.Group.style.display="none");return this};ea.show=function(){!this.removed&&(this.Group.style.display="block");return this};
ea.getBBox=function(){return this.removed?this:bb[s](this.type)?jb(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};ea.remove=function(){if(!this.removed){sa(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=!0}};ea.attr=function(a,d){if(this.removed)return this;if(null==a){var e={},g;for(g in this.attrs)this.attrs[s](g)&&
(e[g]=this.attrs[g]);this._.rt.deg&&(e.rotation=this.rotate());1==this._.sx&&1==this._.sy||(e.scale=this.scale());e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient;return e}if(null==d&&b.is(a,"string"))return"translation"==a?L.call(this):"rotation"==a?this.rotate():"scale"==a?this.scale():"fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(this.attrs&&null==d&&b.is(a,O)){var h={};g=0;for(e=a[w];g<e;g++)h[a[g]]=this.attr(a[g]);return h}null!=
d&&(e={},e[a]=d);null==d&&b.is(a,"object")&&(e=a);if(e){for(h in this.paper.customAttributes)if(this.paper.customAttributes[s](h)&&e[s](h)&&b.is(this.paper.customAttributes[h],"function")){g=this.paper.customAttributes[h].apply(this,[].concat(e[h]));this.attrs[h]=e[h];for(var k in g)g[s](k)&&(e[k]=g[k])}e.text&&"text"==this.type&&(this.node.string=e.text);Ra(this,e);e.gradient&&({circle:1,ellipse:1}[s](this.type)||"r"!=M(e.gradient).charAt())&&ib(this,e.gradient);bb[s](this.type)&&!this._.rt.deg||
this.setBox(this.attrs)}return this};ea.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&Va(this,this.paper);return this};ea.toBack=function(){if(this.removed)return this;this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),xa(this,this.paper));return this};ea.insertAfter=function(a){if(this.removed)return this;a.constructor==aa&&(a=a[a.length-1]);a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,
a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);Kb(this,a,this.paper);return this};ea.insertBefore=function(a){if(this.removed)return this;a.constructor==aa&&(a=a[0]);a.Group.parentNode.insertBefore(this.Group,a.Group);Hb(this,a,this.paper);return this};ea.blur=function(a){var d=this.node.runtimeStyle,e=d.filter,e=e.replace(ca,"");0!==+a?(this.attrs.blur=a,d.filter=e+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")",d.margin=b.format("-{0}px 0 0 -{0}px",pa(+a||
1.5))):(d.filter=e,d.margin=0,delete this.attrs.blur)};var Wb=function(a,b,d,e){var g=Da("group"),h=Da("oval");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize="1000 1000";g.coordorigin=a.coordorigin;g.appendChild(h);h=new ha(h,g,a);h.type="circle";Ra(h,{stroke:"#000",fill:"none"});h.attrs.cx=b;h.attrs.cy=d;h.attrs.r=e;h.setBox({x:b-e,y:d-e,width:2*e,height:2*e});a.canvas.appendChild(g);return h},bc=function(a,b,d,e,g,h){var l=Bb(b,d,e,g,h);a=
a.path(l);var m=a.attrs;a.X=m.x=b;a.Y=m.y=d;a.W=m.width=e;a.H=m.height=g;m.r=h;m.path=l;a.type="rect";return a},va=function(a,b,d,e,g){var h=Da("group"),l=Da("oval");h.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";h.coordsize="1000 1000";h.coordorigin=a.coordorigin;h.appendChild(l);l=new ha(l,h,a);l.type="ellipse";Ra(l,{stroke:"#000"});l.attrs.cx=b;l.attrs.cy=d;l.attrs.rx=e;l.attrs.ry=g;l.setBox({x:b-e,y:d-g,width:2*e,height:2*g});a.canvas.appendChild(h);
return l},ab=function(a,b,d,e,g,h){var l=Da("group"),m=Da("image");l.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";l.coordsize="1000 1000";l.coordorigin=a.coordorigin;m.src=b;l.appendChild(m);m=new ha(m,l,a);m.type="image";m.attrs.src=b;m.attrs.x=d;m.attrs.y=e;m.attrs.w=g;m.attrs.h=h;m.setBox({x:d,y:e,width:g,height:h});a.canvas.appendChild(l);return m},Qa=function(a,d,e,g){var h=Da("group"),k=Da("shape"),l=k.style,m=Da("path"),p=Da("textpath");h.style.cssText=
"position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";h.coordsize="1000 1000";h.coordorigin=a.coordorigin;m.v=b.format("m{0},{1}l{2},{1}",pa(10*d),pa(10*e),pa(10*d)+1);m.textpathok=!0;l.width=a.width;l.height=a.height;p.string=M(g);p.on=!0;k.appendChild(p);k.appendChild(m);h.appendChild(k);l=new ha(p,h,a);l.shape=k;l.textpath=m;l.type="text";l.attrs.text=g;l.attrs.x=d;l.attrs.y=e;l.attrs.w=1;l.attrs.h=1;Ra(l,{font:qb.font,stroke:"none",fill:"#000"});l.setBox();a.canvas.appendChild(h);
return l},Jb=function(a,b){var d=this.canvas.style;a==+a&&(a+="px");b==+b&&(b+="px");d.width=a;d.height=b;d.clip="rect(0 "+a+" "+b+" 0)";return this},Da;D.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!D.namespaces.rvml&&D.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Da=function(a){return D.createElement("<rvml:"+a+' class="rvml">')}}catch(rb){Da=function(a){return D.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}gb=function(){var a=na[N](0,
arguments),d=a.container,e=a.height,g=a.width,h=a.x,a=a.y;if(!d)throw Error("VML container not found.");var k=new Wa,l=k.canvas=D.createElement("div"),m=l.style,h=h||0,a=a||0,g=g||512,e=e||342;g==+g&&(g+="px");e==+e&&(e+="px");k.width=1E3;k.height=1E3;k.coordsize="10000 10000";k.coordorigin="0 0";k.span=D.createElement("span");k.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";l.appendChild(k.span);m.cssText=b.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",
g,e);1==d?(D.body.appendChild(l),m.left=h+"px",m.top=a+"px",m.position="absolute"):d.firstChild?d.insertBefore(l,d.firstChild):d.appendChild(l);cb.call(k,k,b.fn);return k};fa.clear=function(){this.canvas.innerHTML="";this.span=D.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};fa.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=
ya(a);return!0}}var Db=navigator.userAgent.match(/Version\\x2f(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(Db&&4>Db[1]||"iP"==navigator.platform.slice(0,2))?fa.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});Y.setTimeout(function(){a.remove()})}:fa.safari=function(){};for(var dc=function(){this.returnValue=!1},ec=function(){return this.originalEvent.preventDefault()},fc=function(){this.cancelBubble=!0},a=function(){return this.originalEvent.stopPropagation()},
h=function(){if(D.addEventListener)return function(b,d,e,g){var h=eb&&ba[d]?ba[d]:d,k=function(h){if(eb&&ba[s](d))for(var k=0,l=h.targetTouches&&h.targetTouches.length;k<l;k++)if(h.targetTouches[k].target==b){l=h;h=h.targetTouches[k];h.originalEvent=l;h.preventDefault=ec;h.stopPropagation=a;break}return e.call(g,h)};b.addEventListener(h,k,!1);return function(){b.removeEventListener(h,k,!1);return!0}};if(D.attachEvent)return function(a,b,d,e){var g=function(a){a=a||Y.event;a.preventDefault=a.preventDefault||
dc;a.stopPropagation=a.stopPropagation||fc;return d.call(e,a)};a.attachEvent("on"+b,g);return function(){a.detachEvent("on"+b,g);return!0}}}(),d=[],q=function(a){for(var b=a.clientX,e=a.clientY,g=D.documentElement.scrollTop||D.body.scrollTop,h=D.documentElement.scrollLeft||D.body.scrollLeft,k,l=d.length;l--;){k=d[l];if(eb)for(var m=a.touches.length,p;m--;){if(p=a.touches[m],p.identifier==k.el._drag.id){b=p.clientX;e=p.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
b+=h;e+=g;k.move&&k.move.call(k.move_scope||k.el,b-k.el._drag.x,e-k.el._drag.y,b,e,a)}},t=function(a){b.unmousemove(q).unmouseup(t);for(var e=d.length,g;e--;)g=d[e],g.el._drag={},g.end&&g.end.call(g.end_scope||g.start_scope||g.move_scope||g.el,a);d=[]},A=lb[w];A--;)(function(a){b[a]=ha.prototype[a]=function(d,e){b.is(d,"function")&&(this.events=this.events||[],this.events.push({name:a,f:d,unbind:h(this.shape||this.node||D,a,d,e||this)}));return this};b["un"+a]=ha.prototype["un"+a]=function(b){for(var d=
this.events,e=d[w];e--;)if(d[e].name==a&&d[e].f==b){d[e].unbind();d.splice(e,1);!d.length&&delete this.events;break}return this}})(lb[A]);ea.hover=function(a,b,d,e){return this.mouseover(a,d).mouseout(b,e||d)};ea.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};ea.drag=function(a,e,g,h,l,k){this._drag={};this.mousedown(function(m){(m.originalEvent||m).preventDefault();var p=D.documentElement.scrollTop||D.body.scrollTop,s=D.documentElement.scrollLeft||D.body.scrollLeft;this._drag.x=
m.clientX+s;this._drag.y=m.clientY+p;this._drag.id=m.identifier;e&&e.call(l||h||this,m.clientX+s,m.clientY+p,m);!d.length&&b.mousemove(q).mouseup(t);d.push({el:this,move:a,end:g,move_scope:h,start_scope:l,end_scope:k})});return this};ea.undrag=function(a,e,g){for(e=d.length;e--;)d[e].el==this&&d[e].move==a&&d[e].end==g&&d.splice(e++,1);!d.length&&b.unmousemove(q).unmouseup(t)};fa.circle=function(a,b,d){return Wb(this,a||0,b||0,d||0)};fa.rect=function(a,b,d,e,g){return bc(this,a||0,b||0,d||0,e||0,
g||0)};fa.ellipse=function(a,b,d,e){return va(this,a||0,b||0,d||0,e||0)};fa.path=function(a){a&&!b.is(a,"string")&&!b.is(a[0],O)&&(a+="");return Ab(b.format[N](b,arguments),this)};fa.image=function(a,b,d,e,g){return ab(this,a||"about:blank",b||0,d||0,e||0,g||0)};fa.text=function(a,b,d){return Qa(this,a||0,b||0,M(d))};fa.set=function(a){1<arguments[w]&&(a=Array.prototype.splice.call(arguments,0,arguments[w]));return new aa(a)};fa.setSize=Jb;fa.top=fa.bottom=null;fa.raphael=b;ea.resetScale=function(){if(this.removed)return this;
this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};ea.scale=function(a,b,d,e){if(this.removed)return this;if(null==a&&null==b)return{x:this._.sx,y:this._.sy,toString:l};b=b||a;!+b&&(b=a);var g,h,m=this.attrs;if(0!=a){var p=this.getBBox(),q=p.x+p.width/2,r=p.y+p.height/2;g=W(a/this._.sx);h=W(b/this._.sy);d=+d||0==d?d:q;e=+e||0==e?e:r;var s=0<this._.sx,t=0<this._.sy,p=~~(a/W(a)),u=~~(b/W(b)),x=g*p,y=h*u,A=this.node.style,q=d+W(q-d)*x*(q>d==s?1:-1),r=e+W(r-e)*y*(r>e==t?1:-1),z=a*p>b*u?h:g;switch(this.type){case "rect":case "image":var B=
m.width*g,F=m.height*h;this.attr({height:F,r:m.r*z,width:B,x:q-B/2,y:r-F/2});break;case "circle":case "ellipse":this.attr({rx:m.rx*g,ry:m.ry*h,r:m.r*z,cx:q,cy:r});break;case "text":this.attr({x:q,y:r});break;case "path":for(var z=Pb(m.path),E=!0,s=s?x:g,t=t?y:h,y=0,x=z[w];y<x;y++){var D=z[y],I=Sa.call(D[0]);if("M"!=I||!E)if(E=!1,"A"==I)D[z[y][w]-2]*=s,D[z[y][w]-1]*=t,D[1]*=g,D[2]*=h,D[5]=+(p+u?!!+D[5]:!+D[5]);else if("H"==I)for(var I=1,K=D[w];I<K;I++)D[I]*=s;else if("V"==I)for(I=1,K=D[w];I<K;I++)D[I]*=
t;else for(I=1,K=D[w];I<K;I++)D[I]*=I%2?s:t}h=jb(z);g=q-h.x-h.width/2;h=r-h.y-h.height/2;z[0][1]+=g;z[0][2]+=h;this.attr({path:z})}this.type in{text:1,image:1}&&(1!=p||1!=u)?this.transformations?(this.transformations[2]="scale(".concat(p,",",u,")"),this.node.setAttribute("transform",this.transformations.join(" ")),g=-1==p?-m.x-(B||0):m.x,h=-1==u?-m.y-(F||0):m.y,this.attr({x:g,y:h}),m.fx=p-1,m.fy=u-1):(this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(p,", M12=0, M21=0, M22=",
u,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),A.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")):this.transformations?(this.transformations[2]="",this.node.setAttribute("transform",this.transformations.join(" ")),m.fx=0,m.fy=0):(this.node.filterMatrix="",A.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||""));m.scale=[a,b,d,e].join(" ");this._.sx=a;this._.sy=b}return this};ea.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;
delete a.translation;return this.paper[this.type]().attr(a)};var p={},ja=function(a,d,e,g,h,k,l,m,q){var r=0,s=100,t=[a,d,e,g,h,k,l,m].join(),w=p[t],u,x;!w&&(p[t]=w={data:[]});w.timer&&clearTimeout(w.timer);w.timer=setTimeout(function(){delete p[t]},2E3);null!=q&&(s=10*~~ja(a,d,e,g,h,k,l,m));for(var y=0;y<s+1;y++){w.data[q]>y?x=w.data[y*s]:(x=b.findDotsAtSegment(a,d,e,g,h,k,l,m,y/s),w.data[y]=x);y&&(r+=Z(Z(u.x-x.x,2)+Z(u.y-x.y,2),.5));if(null!=q&&r>=q)return x;u=x}if(null==q)return r},za=function(a,
d){return function(e,g,h){e=xb(e);for(var k,l,m,p,r="",q={},s=0,t=0,w=e.length;t<w;t++){m=e[t];if("M"==m[0])k=+m[1],l=+m[2];else{p=ja(k,l,m[1],m[2],m[3],m[4],m[5],m[6]);if(s+p>g){if(d&&!q.start){k=ja(k,l,m[1],m[2],m[3],m[4],m[5],m[6],g-s);r+=["C",k.start.x,k.start.y,k.m.x,k.m.y,k.x,k.y];if(h)return r;q.start=r;r=["M",k.x,k.y+"C",k.n.x,k.n.y,k.end.x,k.end.y,m[5],m[6]].join();s+=p;k=+m[5];l=+m[6];continue}if(!a&&!d)return k=ja(k,l,m[1],m[2],m[3],m[4],m[5],m[6],g-s),{x:k.x,y:k.y,alpha:k.alpha}}s+=p;
k=+m[5];l=+m[6]}r+=m}q.end=r;k=a?s:d?q:b.findDotsAtSegment(k,l,m[1],m[2],m[3],m[4],m[5],m[6],1);k.alpha&&(k={x:k.x,y:k.y,alpha:k.alpha});return k}},I=za(1),x=za(),wb=za(0,1);ea.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():I(this.attrs.path)};ea.getPointAtLength=function(a){if("path"==this.type)return x(this.attrs.path,a)};ea.getSubpath=function(a,b){if("path"==this.type){if("1e-6">W(this.getTotalLength()-b))return wb(this.attrs.path,a).end;
var d=wb(this.attrs.path,b,1);return a?wb(d,a).end:d}};b.easing_formulas={linear:function(a){return a},"<":function(a){return Z(a,3)},">":function(a){return Z(a-1,3)+1},"<>":function(a){a*=2;return 1>a?Z(a,3)/2:(Z(a-2,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return 0==a||1==a?a:Z(2,-10*a)*F.sin(2*(a-.075)*U/.3)+1},bounce:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?
(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a}};var ka=[],$b=function(){for(var a=+new Date,d=0;d<ka[w];d++){var e=ka[d];if(!e.stop&&!e.el.removed){var g=a-e.start,h=e.ms,k=e.easing,l=e.from,m=e.diff,p=e.to,r=e.t,q=e.el,e={},t;if(g<h){var g=k(g/h),u;for(u in l)if(l[s](u)){switch(yb[u]){case "along":t=g*h*m[u];p.back&&(t=p.len-t);k=x(p[u],t);q.translate(m.sx-m.x||0,m.sy-m.y||0);m.x=k.x;m.y=k.y;q.translate(k.x-m.sx,k.y-m.sy);p.rot&&q.rotate(m.r+k.alpha,k.x,k.y);break;
case V:t=+l[u]+g*h*m[u];break;case "colour":t="rgb("+[Fa(pa(l[u].r+g*h*m[u].r)),Fa(pa(l[u].g+g*h*m[u].g)),Fa(pa(l[u].b+g*h*m[u].b))].join()+")";break;case "path":t=[];for(var k=0,y=l[u][w];k<y;k++){t[k]=[l[u][k][0]];for(var z=1,A=l[u][k][w];z<A;z++)t[k][z]=+l[u][k][z]+g*h*m[u][k][z];t[k]=t[k].join(" ")}t=t.join(" ");break;case "csv":switch(u){case "translation":t=g*h*m[u][0]-r.x;k=g*h*m[u][1]-r.y;r.x+=t;r.y+=k;t=t+" "+k;break;case "rotation":t=+l[u][0]+g*h*m[u][0];l[u][1]&&(t+=","+l[u][1]+","+l[u][2]);
break;case "scale":t=[+l[u][0]+g*h*m[u][0],+l[u][1]+g*h*m[u][1],2 in p[u]?p[u][2]:"",3 in p[u]?p[u][3]:""].join(" ");break;case "clip-rect":for(t=[],k=4;k--;)t[k]=+l[u][k]+g*h*m[u][k]}break;default:for(y=[].concat(l[u]),t=[],k=q.paper.customAttributes[u].length;k--;)t[k]=+y[k]+g*h*m[u][k]}e[u]=t}q.attr(e);q._run&&q._run.call(q)}else p.along&&(k=x(p.along,p.len*!p.back),q.translate(m.sx-(m.x||0)+k.x-m.sx,m.sy-(m.y||0)+k.y-m.sy),p.rot&&q.rotate(m.r+k.alpha,k.x,k.y)),(r.x||r.y)&&q.translate(-r.x,-r.y),
p.scale&&(p.scale+=""),q.attr(p),ka.splice(d--,1)}}b.svg&&q&&q.paper&&q.paper.safari();ka[w]&&setTimeout($b)},cc=function(a,d,e,g,h){var k=e-g;d.timeouts.push(setTimeout(function(){b.is(h,"function")&&h.call(d);d.animate(a,k,a.easing)},g))},Fa=function(a){return ta(Na(a,255),0)},L=function(a,b){if(null==a)return{x:this._.tx,y:this._.ty,toString:l};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+
this.attrs.x,y:+b+this.attrs.y});break;case "path":var d=Pb(this.attrs.path);d[0][1]+=+a;d[0][2]+=+b;this.attr({path:d})}return this};ea.animateWith=function(a,b,d,e,g){for(var h=0,l=ka.length;h<l;h++)ka[h].el.id==a.id&&(b.start=ka[h].start);return this.animate(b,d,e,g)};ea.animateAlong=m();ea.animateAlongBack=m(1);ea.onAnimation=function(a){this._run=a||0;return this};ea.animate=function(a,d,e,g){var h=this;h.timeouts=h.timeouts||[];if(b.is(e,"function")||!e)g=e||null;if(h.removed)return g&&g.call(h),
h;var k={},l={},m=!1,p={},r;for(r in a)if(a[s](r)&&(yb[s](r)||h.paper.customAttributes[s](r)))switch(m=!0,k[r]=h.attr(r),null==k[r]&&(k[r]=qb[r]),l[r]=a[r],yb[r]){case "along":var q=I(a[r]),t=x(a[r],q*!!a.back),z=h.getBBox();p[r]=q/d;p.tx=z.x;p.ty=z.y;p.sx=t.x;p.sy=t.y;l.rot=a.rot;l.back=a.back;l.len=q;a.rot&&(p.r=R(h.rotate())||0);break;case V:p[r]=(l[r]-k[r])/d;break;case "colour":k[r]=b.getRGB(k[r]);q=b.getRGB(l[r]);p[r]={r:(q.r-k[r].r)/d,g:(q.g-k[r].g)/d,b:(q.b-k[r].b)/d};break;case "path":q=
xb(k[r],l[r]);k[r]=q[0];z=q[1];p[r]=[];q=0;for(t=k[r][w];q<t;q++){p[r][q]=[0];for(var A=1,B=k[r][q][w];A<B;A++)p[r][q][A]=(z[q][A]-k[r][q][A])/d}break;case "csv":t=M(a[r]).split(y);z=M(k[r]).split(y);switch(r){case "translation":k[r]=[0,0];p[r]=[t[0]/d,t[1]/d];break;case "rotation":k[r]=z[1]==t[1]&&z[2]==t[2]?z:[0,t[1],t[2]];p[r]=[(t[0]-k[r][0])/d,0,0];break;case "scale":a[r]=t;k[r]=M(k[r]).split(y);p[r]=[(t[0]-k[r][0])/d,(t[1]-k[r][1])/d,0,0];break;case "clip-rect":for(k[r]=M(k[r]).split(y),p[r]=
[],q=4;q--;)p[r][q]=(t[q]-k[r][q])/d}l[r]=t;break;default:for(t=[].concat(a[r]),z=[].concat(k[r]),p[r]=[],q=h.paper.customAttributes[r][w];q--;)p[r][q]=((t[q]||0)-(z[q]||0))/d}if(m){r=b.easing_formulas[e];if(!r)if((r=M(e).match(Tb))&&5==r[w]){var D=r;r=function(a){return u(a,+D[1],+D[2],+D[3],+D[4],d)}}else r=function(a){return a};ka.push({start:a.start||+new Date,ms:d,easing:r,from:k,diff:p,to:l,el:h,t:{x:0,y:0}});b.is(g,"function")&&(h._ac=setTimeout(function(){g.call(h)},d));1==ka[w]&&setTimeout($b)}else{e=
[];var F,E;for(E in a)a[s](E)&&Yb.test(E)&&(r={value:a[E]},"from"==E&&(E=0),"to"==E&&(E=100),r.key=oa(E,10),e.push(r));e.sort(zb);e[0].key&&e.unshift({key:0,value:h.attrs});q=0;for(t=e[w];q<t;q++)cc(e[q].value,h,d/100*e[q].key,d/100*(e[q-1]&&e[q-1].key||0),e[q-1]&&e[q-1].value.callback);(F=e[e[w]-1].value.callback)&&h.timeouts.push(setTimeout(function(){F.call(h)},d))}return this};ea.stop=function(){for(var a=0;a<ka.length;a++)ka[a].el.id==this.id&&ka.splice(a--,1);a=0;for(ii=this.timeouts&&this.timeouts.length;a<
ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};ea.translate=function(a,b){return this.attr({translation:a+" "+b})};ea.toString=function(){return"Rapha\u00ebl\u2019s object"};b.ae=ka;var aa=function(a){this.items=[];this[w]=0;this.type="set";if(a)for(var b=0,d=a[w];b<d;b++)!a[b]||a[b].constructor!=ha&&a[b].constructor!=aa||(this[this.items[w]]=this.items[this.items[w]]=a[b],this[w]++)};aa.prototype[X]=function(){for(var a,b,d=0,e=arguments[w];d<
e;d++)!(a=arguments[d])||a.constructor!=ha&&a.constructor!=aa||(b=this.items[w],this[b]=this.items[b]=a,this[w]++);return this};aa.prototype.pop=function(){delete this[this[w]--];return this.items.pop()};for(var fb in ea)ea[s](fb)&&(aa.prototype[fb]=function(a){return function(){for(var b=0,d=this.items[w];b<d;b++)this.items[b][a][N](this.items[b],arguments);return this}}(fb));aa.prototype.attr=function(a,d){if(a&&b.is(a,O)&&b.is(a[0],"object"))for(var e=0,g=a[w];e<g;e++)this.items[e].attr(a[e]);
else for(e=0,g=this.items[w];e<g;e++)this.items[e].attr(a,d);return this};aa.prototype.animate=function(a,d,e,g){!b.is(e,"function")&&e||(g=e||null);var h=this.items[w],k=h,l,m=this,p;g&&(p=function(){!--h&&g.call(m)});e=b.is(e,"string")?e:p;for(l=this.items[--k].animate(a,d,e,p);k--;)this.items[k]&&!this.items[k].removed&&this.items[k].animateWith(l,a,d,e,p);return this};aa.prototype.insertAfter=function(a){for(var b=this.items[w];b--;)this.items[b].insertAfter(a);return this};aa.prototype.getBBox=
function(){for(var a=[],b=[],d=[],e=[],g=this.items[w];g--;){var h=this.items[g].getBBox();a[X](h.x);b[X](h.y);d[X](h.x+h.width);e[X](h.y+h.height)}a=Na[N](0,a);b=Na[N](0,b);return{x:a,y:b,width:ta[N](0,d)-a,height:ta[N](0,e)-b}};aa.prototype.clone=function(a){a=new aa;for(var b=0,d=this.items[w];b<d;b++)a[X](this.items[b].clone());return a};b.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},d=a.face["font-family"],e;for(e in a.face)a.face[s](e)&&
(b.face[e]=a.face[e]);this.fonts[d]?this.fonts[d][X](b):this.fonts[d]=[b];if(!a.svg){b.face["units-per-em"]=oa(a.face["units-per-em"],10);for(var g in a.glyphs)if(a.glyphs[s](g)&&(d=a.glyphs[g],b.glyphs[g]={w:d.w,k:{},d:d.d&&"M"+d.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},d.k))for(var h in d.k)d[s](h)&&(b.glyphs[g].k[h]=d.k[h])}return a};fa.getFont=function(a,d,e,g){g=g||"normal";e=e||"normal";d=+d||{normal:400,bold:700,lighter:300,bolder:800}[d]||
400;if(b.fonts){var h=b.fonts[a];if(!h){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var k in b.fonts)if(b.fonts[s](k)&&a.test(k)){h=b.fonts[k];break}}var l;if(h)for(k=0,a=h[w];k<a&&(l=h[k],l.face["font-weight"]!=d||l.face["font-style"]!=e&&l.face["font-style"]||l.face["font-stretch"]!=g);k++);return l}};fa.print=function(a,d,e,g,h,k,l){k=k||"middle";l=ta(Na(l||0,1),-1);var m=this.set(),p=M(e).split(""),q=0;b.is(g,e)&&(g=this.getFont(g));if(g){e=(h||16)/g.face["units-per-em"];
var s=g.face.bbox.split(y);h=+s[0];k=+s[1]+("baseline"==k?s[3]-s[1]+ +g.face.descent:(s[3]-s[1])/2);for(var s=0,t=p[w];s<t;s++){var u=s&&g.glyphs[p[s-1]]||{},x=g.glyphs[p[s]],q=q+(s?(u.w||g.w)+(u.k&&u.k[p[s]]||0)+g.w*l:0);x&&x.d&&m[X](this.path(x.d).attr({fill:"#000",stroke:"none",translation:[q,0]}))}m.scale(e,e,h,k).translate(a-h,d-k)}return m};b.format=function(a,d){var e=b.is(d,O)?[0].concat(d):arguments;a&&b.is(a,"string")&&e[w]-1&&(a=a.replace(z,function(a,b){return null==e[++b]?"":e[b]}));
return a||""};b.ninja=function(){la?Y.Raphael=db:delete Raphael;return b};b.el=ea;b.st=aa.prototype;la?Y.Raphael=b:Raphael=b})();function colorFromRamp(b,e,g,l){if(0==b.length)return"#FF00FF";if(e<=b[0].value)return!0===g?createRGBA(b[0].color,l):b[0].color;if(e>=b[b.length-1].value)return!0===g?createRGBA(b[b.length-1].color,l):b[b.length-1].color;for(var m=1;m<=b.length;m++)if(b[m-1].value<e&&b[m].value>=e)return lerpColor(b[m-1].color,b[m].color,b[m-1].value,b[m].value,e,g,l);return"#FF00FF"}
function createRGBA(b,e){c="rgba(";for(var g=1;6>=g;g+=2){var l=Math.floor(colorUtils.h2d(b.substr(g,2)));c+=""+l+","}return c+=e+")"}var colorUtils={d2h:function(b){return b.toString(16)},h2d:function(b){return parseInt(b,16)}};
function lerpColor(b,e,g,l,m,u,y){if(m<g)return!0===u?createRGBA(b,y):b;if(m>l)return!0===u?createRGBA(e,y):e;var K="";if(!0===u){K="rgba(";for(u=1;6>=u;u+=2)var z=colorUtils.h2d(b.substr(u,2)),s=colorUtils.h2d(e.substr(u,2)),z=z+(m-g)/(l-g)*(s-z),z=Math.floor(z),K=K+(""+z+",");K+=y+")"}else for(K="#",u=1;6>=u;u+=2){z=colorUtils.h2d(b.substr(u,2));s=colorUtils.h2d(e.substr(u,2));z+=(m-g)/(l-g)*(s-z);for(z=colorUtils.d2h(Math.floor(z));2>z.length;)z="0"+z;K+=z}return K}var ginfowindow,gmap;
function GPXParser(b){this.xmlDoc=null;gmap=this.map=b;ginfowindow=new google.maps.InfoWindow;this.trackcolor="#ff00ff";this.segmentcolorprovider=function(b,g){return this.trackcolor};this.trackwidth=5;this.routecolor="#ff00ff";this.routewidth=3;this.mintrackpointdelta=0;this.maxtrackpointdelta=30;this.markers=[]}GPXParser.prototype.SetTrackcolor=function(b){this.trackcolor=b};GPXParser.prototype.SetSegmentColorProvider=function(b){this.segmentcolorprovider=b};
GPXParser.prototype.SetTrackWidth=function(b){this.trackwidth=b};GPXParser.prototype.SetMinTrackPointDelta=function(b){this.mintrackpointdelta=b};GPXParser.prototype.SetMaxTrackPointDelta=function(b){this.maxtrackpointdelta=b};GPXParser.prototype.TranslateName=function(b){return"wpt"==b?"Waypoint":"trkpt"==b?"Track Point":b};
GPXParser.prototype._textToXml=function(b){window.DOMParser?xmlDoc=(new DOMParser).parseFromString(b,"text/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async="false",xmlDoc.loadXML(b));return xmlDoc};
GPXParser.prototype.ParseGpx=function(b){var e=this._textToXml(b);b={tracks:[],waypoints:[],routes:[]};for(var g=e.documentElement.getElementsByTagName("trk"),l=0;l<g.length;l++)b.tracks.push(this._parseTrack(g[l]));g=e.documentElement.getElementsByTagName("wpt");for(l=0;l<g.length;l++)b.waypoints.push(this._parseWaypoint(g[l]));e=e.documentElement.getElementsByTagName("rte");for(l=0;l<e.length;l++)b.routes.push(this._parseRoute(e[l]));return b};
GPXParser.prototype._parseTrack=function(b){var e={segments:[],length:0};b=b.getElementsByTagName("trkseg");for(var g=0;g<b.length;g++){var l=this._parseSegment(b[g]);e.segments.push(l);e.length+=l.length}return e};
GPXParser.prototype._parseSegment=function(b){var e={points:[],length:0};b=b.getElementsByTagName("trkpt");if(0==b.length)return e;var g=this._parseTrackPoint(b[0]);e.points.push(g);for(var l=1;l<b.length;l++){var m=this._parseTrackPoint(b[l],g),u=this._pntDistance(g,m);0<this.maxtrackpointdelta&&u>this.maxtrackpointdelta||(e.points.push(m),e.length+=u,g=m)}return e};
GPXParser.prototype._parseRoute=function(b){var e={points:[]};b=b.getElementsByTagName("rtept");for(var g=0;g<b.length;g++)e.points.push(this._parseRoutePoint(b[g]));return e};
GPXParser.prototype._parseRoutePoint=function(b){var e={lat:0,lon:0,latLng:null,name:"",comment:"",html:""};e.lat=parseFloat(b.getAttribute("lat"));e.lon=parseFloat(b.getAttribute("lon"));e.latlng=new google.maps.LatLng(e.lat,e.lon);var g=b.getElementsByTagName("name");void 0!==g[0]&&(e.name=g[0].textContent,e.html="<b>"+e.name+"</b>");b=b.getElementsByTagName("cmt");void 0!==b[0]&&(e.comment=b[0].textContent,e.html+="<br />"+e.comment);return e};
GPXParser.prototype._parseWaypoint=function(b){var e={lon:parseFloat(b.getAttribute("lon")),lat:parseFloat(b.getAttribute("lat")),html:""};if(0<b.getElementsByTagName("html").length)for(i=0;i<b.getElementsByTagName("html").item(0).childNodes.length;i++)e.html+=b.getElementsByTagName("html").item(0).childNodes[i].nodeValue;else{e.html="<b>"+this.TranslateName(b.nodeName)+"</b><br>";var g=b.attributes,l=g.length;for(i=0;i<l;i++)e.html+=g.item(i).name+" = "+g.item(i).nodeValue+"<br>";if(b.hasChildNodes)for(b=
b.childNodes,g=b.length,i=0;i<g;i++)1==b[i].nodeType&&null!=b[i].firstChild&&(e.html+=b[i].nodeName+" = "+b[i].firstChild.nodeValue+"<br>")}return e};
GPXParser.prototype.DrawGpx=function(b,e,g,l,m){null==e&&(e=this.map.getMapTypeId());null==g&&(g=!0);null==l&&(l=!0);null==m&&(m=!0);this._clearMarkers();this._centerAndZoom(b,e);g&&func.map(b.tracks,this,this._drawTrack,this.segmentcolorprovider,this.trackwidth);l&&func.map(b.waypoints,this,this._drawWaypoint);m&&func.map(b.routes,this,this._drawRoute,this.routecolor,this.routewidth)};GPXParser.prototype._drawTrack=function(b,e,g){func.map(b.segments,this,this._drawSegment,e,g)};
GPXParser.prototype._drawSegment=function(b,e,g){if(0!=b.points.length)for(var l=b.points[0],m=1;m<b.points.length;m++){var u=b.points[m],y=[l.latlng,u.latlng];this._pntDistance(l,u)>this.mintrackpointdelta&&(l=e(l,u),y=new google.maps.Polyline({path:y,strokeColor:l,strokeWeight:g}),this._addOverlay(y));l=u}};
GPXParser.prototype._drawRoute=function(b,e,g){if(0!=b.points.length){var l=b.points[0];this._drawWaypoint(l);for(var m=1;m<b.points.length;m++){var u=b.points[m],l=new google.maps.Polyline({path:[l.latlng,u.latlng],strokeColor:e,strokeWeight:g});this._addOverlay(l);this._drawWaypoint(u);l=u}}};
GPXParser.prototype._drawWaypoint=function(b){var e=new google.maps.Marker({position:new google.maps.LatLng(b.lat,b.lon),map:this.map,icon:"https://iblogbox.github.io/js/img/marks/map/red.png"});e.addListener("click",function(e){if(ginfowindow&&gmap){var l=e.latLng.lat();e=e.latLng.lng();ginfowindow.close();ginfowindow.setContent(b.html);ginfowindow.setOptions({position:{lat:l,lng:e},pixelOffset:{width:0,height:-30}});ginfowindow.open(gmap)}});this._addOverlay(e,!0)};
GPXParser.prototype._degToRad=function(b){return b*Math.PI/180};GPXParser.prototype._pntDistance=function(b,e){var g=b.lat,l=b.lon,m=e.lat,u=e.lon,y=this._degToRad(m-g),l=this._degToRad(u-l),g=Math.sin(y/2)*Math.sin(y/2)+Math.cos(this._degToRad(g))*Math.cos(this._degToRad(m))*Math.sin(l/2)*Math.sin(l/2);return 12742*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))};
GPXParser.prototype._parseTrackPoint=function(b,e){var g={};g.lat=parseFloat(b.getAttribute("lat"));g.lon=parseFloat(b.getAttribute("lon"));g.latlng=new google.maps.LatLng(g.lat,g.lon);var l=b.getElementsByTagName("ele");0<l.length&&(g.ele=parseFloat(l[0].textContent));l=b.getElementsByTagName("time");0<l.length&&(g.time=Date.parse(l[0].textContent));null!=e&&(g.timediff=g.time-e.time,g.dst=this._pntDistance(e,g),g.spd=g.dst/g.timediff*36E5,void 0!=g.ele&&void 0!=e.ele&&(g.elediff=g.ele-e.ele));return g};
GPXParser.prototype._centerAndZoom=function(b,e){var g=0,l=0,m=0,u=0,y=function(b){g==l&&0==g&&(l=g=b.lat,u=m=b.lon);b.lon<m&&(m=b.lon);b.lon>u&&(u=b.lon);b.lat<g&&(g=b.lat);b.lat>l&&(l=b.lat)};func.map(b.waypoints,this,y);func.map(b.tracks,this,function(b){func.map(b.segments,this,function(b){func.map(b.points,this,y)})});func.map(b.routes,this,function(b){func.map(b.points,this,y)});if(g==l&&0==g)this.map.setCenter(new google.maps.LatLng(49.327667,-122.942333)),this.map.setZoom(14);else{var K=new google.maps.LatLngBounds(new google.maps.LatLng(g,
m),new google.maps.LatLng(l,u));this.map.fitBounds(K)}};function getZoomByBounds(b,e){for(var g=b.mapTypes.get(b.getMapTypeId()).maxZoom||21,l=b.mapTypes.get(b.getMapTypeId()).minZoom||0,m=b.getProjection().fromLatLngToPoint(e.getNorthEast()),u=b.getProjection().fromLatLngToPoint(e.getSouthWest()),y=Math.abs(m.x-u.x),m=Math.abs(m.y-u.y);g>=l;--g)if(y*(1<<g)+80<$(b.getDiv()).width()&&m*(1<<g)+80<$(b.getDiv()).height())return g;return 0}
GPXParser.prototype._addOverlay=function(b,e){this.markers.push(b);e||b.setMap(this.map)};GPXParser.prototype._clearMarkers=function(){for(var b=0;b<this.markers.length;b++)void 0!=this.markers[b].setMap&&this.markers[b].setMap(null),this.markers[b]=null;this.markers.length=0};var g_lastmarker;
GPXParser.prototype.test=function(b,e){var g=new google.maps.LatLng(b,e);g_lastmarker&&(void 0!=g_lastmarker.setMap&&g_lastmarker.setMap(null),g_lastmarker=null);g_lastmarker=new google.maps.Marker({position:g,map:this.map});g_lastmarker.setMap(this.map)};function SlopeVisualizer(b){this.jqelement=b;this.buckets=5;this.ramp=[{value:0,color:"#00FF00"},{value:1.5,color:"#FFFF00"},{value:3,color:"#FF8000"},{value:5,color:"#FF0000"}]}
SlopeVisualizer.prototype._computeSlope=function(b,e){return 180*Math.atan2(b,1E3*e)/Math.PI};
SlopeVisualizer.prototype.drawGpx=function(b){var e=this,g=function(b){return""+Math.round(100*b/e.buckets)+"-"+Math.round(100*(b+1)/e.buckets)+"% of track"},l=[],m=0,u={name:g(0),color:colorFromRamp(e.ramp,0,!0,.3),data:[]};func.map(b.tracks,this,function(b){func.map(b.segments,this,function(K){if(0<b.segments.length&&0<b.segments[0].points.length)var z=b.segments[0].points[0].time,s=b.segments[b.segments.length-1].points[b.segments[b.segments.length-1].points.length-1].time;var D=z,Y=0,la=0,db=
0;func.map(K.points,this,function(b){if(void 0!=b.spd&&void 0!=b.ele&&void 0!=b.elediff&&void 0!=b.dst&&(Y+=b.elediff,la+=b.dst,5==++db)){var y=Math.round(this._computeSlope(Y,la)),K=la/(b.time-D)*36E5,K=Math.round(10*K)/10,eb=Math.floor((b.time-z)/(s-z+1)*this.buckets);eb>m&&(null!=u&&0<u.data.length&&l.push(u),u={name:g(eb),color:colorFromRamp(e.ramp,eb,!0,.3),data:[]},m=eb);u.data.push([y,K]);la=Y=db=0;D=b.time}});l.push(u)})});func.map(l,this,function(b){});this._chartSeries(l)};
SlopeVisualizer.prototype._chartSeries=function(b){this.jqelement.html("");new Highcharts.Chart({chart:{renderTo:this.jqelement.attr("id"),type:"scatter"},title:{text:""},subtitle:{text:""},xAxis:{title:{text:"Slope (degrees)"},startOnTick:!0,endOnTick:!0,showLastLabel:!0,showFirstLabel:!0,min:-10,max:10,gridLineColor:"#c0c0c0",gridLineWidth:1},yAxis:{title:{text:"Speed (km/h)"},min:0,gridLineColor:"#c0c0c0",gridLineWidth:1},tooltip:{formatter:function(){return this.x+"\u00b0: "+this.y+" km/h"}},
legend:{layout:"vertical",align:"center",verticalAlign:"top",backgroundColor:"#FFFFFF",borderWidth:0},plotOptions:{scatter:{marker:{radius:3,states:{hover:{enabled:!0,lineColor:"rgb(100,100,100)"}}},states:{hover:{marker:{enabled:!1}}}}},series:b})};function ProfileVisualizer(b){this.jqelement=b}
ProfileVisualizer.prototype.drawGpx=function(b){var e=[],g=0;func.map(b.tracks,this,function(b){func.map(b.segments,this,function(m){if(0<b.segments.length&&0<b.segments[0].points.length)var u=b.segments[0].points[0].time;var y={name:"segment "+ ++g,data:[],data2:[]},K=0,z=0;func.map(m.points,this,function(b){if(void 0!=b.ele&&(K+=b.ele,5==++z)){var e=Math.round(K/5);y.data.push([b.time-u,e,b.lat,b.lon]);K=z=0}});e.push(y)})});this._chartSeries(e)};
ProfileVisualizer.prototype._chartSeries=function(b){this.jqelement.html("");new Highcharts.Chart({chart:{renderTo:this.jqelement.attr("id"),type:"area"},title:{text:""},subtitle:{text:""},legend:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"}},yAxis:{title:{text:"Elevation (m)"}},tooltip:{formatter:function(){g_display_pos&&g_display_pos(this.point.lat,this.point.lon);return Highcharts.dateFormat("%H:%M:%S",this.x)+": "+this.y+" m"}},plotOptions:{area:{fillColor:{linearGradient:[0,
0,0,200],stops:[[0,"rgba(192,192,192,0.5)"],[1,"rgba(64,64,64,0.5)"]]},lineWidth:1,lineColor:"#4040ff",marker:{enabled:!1,states:{hover:{enabled:!0,radius:5}}},shadow:!1,states:{hover:{lineWidth:1}}}},series:b})};
var func={map:function(b,e,g){if(!func.isArray(b))throw"GPXParser._map: first argument must be array.";for(var l=[null],m=3;m<arguments.length;m++)l.push(arguments[m]);for(m=0;m<b.length;m++)l[0]=b[m],g.apply(e,l)},isArray:function(b){return void 0!=b&&0<=b.constructor.toString().indexOf("Array")?!0:!1}};
